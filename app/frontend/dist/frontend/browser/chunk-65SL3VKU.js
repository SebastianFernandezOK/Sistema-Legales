import{a as Z,b as $}from"./chunk-EMY7YEHD.js";import{a as z,b as H,c as q,e as U,f as R}from"./chunk-5EQPP3UM.js";import{b as X,c as Y}from"./chunk-GKRR3LY4.js";import{a as W}from"./chunk-6Y7QP5KE.js";import{c as J,d as K,i as Q}from"./chunk-M5CW5NFQ.js";import{a as B,b as L}from"./chunk-LTI5L47W.js";import{c as A,e as u,g as O,h as P,m as S,p as T,q as k,u as w,v as N,x as G}from"./chunk-C2MAVCXR.js";import{Y as V,Z as j}from"./chunk-3B4OGLPL.js";import{Ac as D,Ga as i,Gc as I,Ic as y,Ka as h,Mb as r,Nb as F,Ob as d,Ra as b,Va as c,Xa as f,Xb as M,Zb as E,kb as l,lb as o,mb as t,nb as g,wb as _,yb as s}from"./chunk-FEQCTJNV.js";function te(e,n){e&1&&(o(0,"mat-error"),r(1," La descripci\xF3n es requerida "),t())}function ie(e,n){e&1&&(o(0,"mat-error"),r(1," La descripci\xF3n debe tener al menos 3 caracteres "),t())}function re(e,n){e&1&&(o(0,"mat-error"),r(1," La descripci\xF3n no puede superar los 100 caracteres "),t())}function ne(e,n){if(e&1&&(o(0,"div",15)(1,"strong"),r(2,"\xDAltima modificaci\xF3n:"),t(),r(3),M(4,"date"),t()),e&2){let m=s(2);i(3),d(" ",E(4,1,m.initialData.AudFecha,"dd/MM/yyyy HH:mm:ss")," ")}}function ae(e,n){if(e&1&&(o(0,"div",15)(1,"strong"),r(2,"Usuario:"),t(),r(3),t()),e&2){let m=s(2);i(3),d(" ",m.initialData.AudUsuario," ")}}function oe(e,n){if(e&1&&(o(0,"div",14)(1,"div",15)(2,"strong"),r(3,"ID:"),t(),r(4),t(),c(5,ne,5,4,"div",16)(6,ae,4,1,"div",16),t()),e&2){let m=s();i(4),d(" ",m.initialData.IdArea," "),i(),l("ngIf",m.initialData.AudFecha),i(),l("ngIf",m.initialData.AudUsuario)}}function me(e,n){e&1&&g(0,"mat-spinner",17)}function le(e,n){if(e&1&&(o(0,"mat-icon"),r(1),t()),e&2){let m=s();i(),F(m.isEdit?"save":"add")}}function de(e,n){if(e&1&&(o(0,"div",18)(1,"mat-icon"),r(2,"error"),t(),r(3),t()),e&2){let m=s();i(3),d(" ",m.error," ")}}var ee=class e{constructor(n){this.fb=n;this.areaForm=this.createForm()}isEdit=!1;initialData=null;loading=!1;error=null;submitForm=new f;cancelForm=new f;areaForm;ngOnInit(){this.isEdit&&this.initialData&&this.loadInitialData()}createForm(){return this.fb.group({Descripcion:["",[u.required,u.minLength(3),u.maxLength(100)]]})}loadInitialData(){this.initialData&&this.areaForm.patchValue({Descripcion:this.initialData.Descripcion})}onSubmit(){if(this.areaForm.valid&&!this.loading){let n={Descripcion:this.areaForm.get("Descripcion")?.value?.trim()};this.submitForm.emit(n)}else Object.keys(this.areaForm.controls).forEach(n=>{this.areaForm.get(n)?.markAsTouched()})}onCancel(){this.cancelForm.emit()}resetForm(){this.areaForm.reset(),Object.keys(this.areaForm.controls).forEach(n=>{this.areaForm.get(n)?.setErrors(null)})}getFormData(){return this.areaForm.valid?{Descripcion:this.areaForm.get("Descripcion")?.value?.trim()}:null}setError(n){this.error=n}clearError(){this.error=null}get descripcionControl(){return this.areaForm.get("Descripcion")}get isFormValid(){return this.areaForm.valid}get isFormDirty(){return this.areaForm.dirty}static \u0275fac=function(m){return new(m||e)(h(N))};static \u0275cmp=b({type:e,selectors:[["app-area-form"]],inputs:{isEdit:"isEdit",initialData:"initialData",loading:"loading",error:"error"},outputs:{submitForm:"submitForm",cancelForm:"cancelForm"},decls:31,vars:14,consts:[[1,"form-container"],[1,"area-form",3,"ngSubmit","formGroup"],[1,"form-field"],[1,"field-label"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Descripcion","maxlength","100"],["align","start"],[4,"ngIf"],["class","audit-info",4,"ngIf"],[1,"form-actions"],["type","button","mat-button","",3,"click","disabled"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["diameter","20",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"audit-info"],[1,"audit-field"],["class","audit-field",4,"ngIf"],["diameter","20"],[1,"error-message"]],template:function(m,a){if(m&1&&(o(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),r(5),t(),r(6),t()(),o(7,"mat-card-content")(8,"form",1),_("ngSubmit",function(){return a.onSubmit()}),o(9,"div",2)(10,"label",3),r(11,"Descripci\xF3n del \xC1rea"),t(),o(12,"mat-form-field",4),g(13,"input",5),o(14,"mat-hint",6)(15,"strong"),r(16),t()(),c(17,te,2,0,"mat-error",7)(18,ie,2,0,"mat-error",7)(19,re,2,0,"mat-error",7),t()(),c(20,oe,7,3,"div",8),o(21,"div",9)(22,"button",10),_("click",function(){return a.onCancel()}),o(23,"mat-icon"),r(24,"cancel"),t(),r(25," Cancelar "),t(),o(26,"button",11),c(27,me,1,0,"mat-spinner",12)(28,le,2,1,"mat-icon",7),r(29),t()(),c(30,de,4,1,"div",13),t()()()()),m&2){let p,v,C,x;i(5),F(a.isEdit?"edit":"add"),i(),d(" ",a.isEdit?"Editar \xC1rea":"Crear Nueva \xC1rea"," "),i(2),l("formGroup",a.areaForm),i(8),d("",((p=a.areaForm.get("Descripcion"))==null||p.value==null?null:p.value.length)||0,"/100"),i(),l("ngIf",(v=a.areaForm.get("Descripcion"))==null?null:v.hasError("required")),i(),l("ngIf",(C=a.areaForm.get("Descripcion"))==null?null:C.hasError("minlength")),i(),l("ngIf",(x=a.areaForm.get("Descripcion"))==null?null:x.hasError("maxlength")),i(),l("ngIf",a.isEdit&&a.initialData),i(2),l("disabled",a.loading),i(4),l("disabled",a.areaForm.invalid||a.loading),i(),l("ngIf",a.loading),i(),l("ngIf",!a.loading),i(),d(" ",a.loading?"Guardando...":a.isEdit?"Actualizar":"Crear \xC1rea"," "),i(),l("ngIf",a.error)}},dependencies:[y,D,G,S,A,O,P,w,T,k,W,Q,K,J,Y,X,j,V,L,B,R,z,q,U,H,$,Z,I],styles:[".form-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:600px;margin:0 auto}.area-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;margin-top:1rem}.full-width[_ngcontent-%COMP%]{width:100%}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.field-label[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:.95rem;margin-bottom:.25rem}.audit-info[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;padding:1rem;margin-top:1rem}.audit-field[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#666;font-size:.9rem}.audit-field[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem;padding-top:1rem;border-top:1px solid #e0e0e0}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#f44336;background:#ffebee;padding:1rem;border-radius:4px;border-left:4px solid #f44336;margin-top:1rem}mat-card[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0000001a}mat-card-header[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;margin:-1rem -1rem 0;border-bottom:1px solid #e0e0e0}mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#416759;font-size:1.25rem;font-weight:600;margin:0}mat-card-content[_ngcontent-%COMP%]{padding:1.5rem}button[color=primary][_ngcontent-%COMP%]{background:#416759;color:#fff}button[color=primary][_ngcontent-%COMP%]:hover:not([disabled]){background:#355a4c}button[color=primary][_ngcontent-%COMP%]:disabled{background:#ccc}mat-form-field[_ngcontent-%COMP%]{margin-bottom:.5rem}.mat-mdc-form-field-hint-wrapper[_ngcontent-%COMP%]{padding:0}.form-actions[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:.5rem}"]})};export{ee as a};
