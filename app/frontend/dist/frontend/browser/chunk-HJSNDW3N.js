import{a as oe}from"./chunk-TUJ55AJL.js";import{a as ie,b as ne}from"./chunk-4I7E6TY2.js";import"./chunk-PVDG46DZ.js";import{a as te}from"./chunk-72DCKGH5.js";import{a as ae,b as re}from"./chunk-EMY7YEHD.js";import{a as j,b as q,c as G,d as J,e as K,f as Q,g as U,h as W,i as X,j as Y,k as Z}from"./chunk-JFHP4756.js";import{a as F,b as H,c as B,e as $,f as N}from"./chunk-5EQPP3UM.js";import"./chunk-BOKKIAFZ.js";import"./chunk-6Y7QP5KE.js";import"./chunk-M5CW5NFQ.js";import{b as ee}from"./chunk-6J5RYYQJ.js";import"./chunk-KCUSWNL7.js";import{a as L,b as k}from"./chunk-LTI5L47W.js";import"./chunk-G6RQVBEQ.js";import{w as y}from"./chunk-C2MAVCXR.js";import"./chunk-7U2T7U2W.js";import{X as z,Y as V,Z as R}from"./chunk-3B4OGLPL.js";import{c as O,g as T}from"./chunk-OL3NKZYM.js";import{Ac as P,Ga as o,Gc as I,Ic as D,Ka as h,Mb as r,Nb as M,Ob as S,Ra as A,Va as s,Vb as b,Xb as w,Zb as E,ga as u,ha as g,kb as m,lb as n,mb as a,nb as v,rb as f,sb as C,ub as x,wb as _,yb as d}from"./chunk-FEQCTJNV.js";import"./chunk-TSRGIXR5.js";var me=()=>[5,10,25,50];function se(e,t){e&1&&(n(0,"div",6),v(1,"mat-spinner",7),n(2,"p"),r(3,"Cargando \xE1reas..."),a()())}function de(e,t){e&1&&(n(0,"th",23),r(1,"ID"),a())}function pe(e,t){if(e&1&&(n(0,"td",24),r(1),a()),e&2){let i=t.$implicit;o(),M(i.IdArea)}}function _e(e,t){e&1&&(n(0,"th",25),r(1,"Descripci\xF3n"),a())}function ue(e,t){if(e&1&&(n(0,"td",26)(1,"div",27)(2,"strong"),r(3),a()()()),e&2){let i=t.$implicit;o(3),M(i.Descripcion)}}function ge(e,t){e&1&&(n(0,"th",25),r(1,"Fecha Auditor\xEDa"),a())}function fe(e,t){if(e&1&&(n(0,"td",26)(1,"span",28),r(2),w(3,"date"),a()()),e&2){let i=t.$implicit;o(2),S(" ",i.AudFecha?E(3,1,i.AudFecha,"dd/MM/yyyy HH:mm"):"-"," ")}}function Ce(e,t){e&1&&(n(0,"th",29),r(1,"Acciones"),a())}function xe(e,t){if(e&1){let i=x();n(0,"td",30)(1,"button",31),_("click",function(c){let p=u(i).$implicit;return d(2).editarArea(p.IdArea),g(c.stopPropagation())}),n(2,"mat-icon"),r(3,"edit"),a()(),n(4,"button",32),_("click",function(c){let p=u(i).$implicit;return d(2).eliminarArea(p.IdArea),g(c.stopPropagation())}),n(5,"mat-icon"),r(6,"delete"),a()()()}}function he(e,t){e&1&&v(0,"tr",33)}function ve(e,t){if(e&1){let i=x();n(0,"tr",34),_("click",function(){let c=u(i).$implicit,p=d(2);return g(p.verDetalleArea(c.IdArea))}),a()}}function Me(e,t){if(e&1){let i=x();n(0,"div",35)(1,"mat-icon"),r(2,"business_center"),a(),n(3,"p"),r(4,"No se encontraron \xE1reas"),a(),n(5,"button",2),_("click",function(){u(i);let c=d(2);return g(c.crearArea())}),r(6," Crear primera \xE1rea "),a()()}}function Ae(e,t){if(e&1&&(n(0,"div",8)(1,"table",9),f(2,10),s(3,de,2,0,"th",11)(4,pe,2,1,"td",12),C(),f(5,13),s(6,_e,2,0,"th",14)(7,ue,4,1,"td",15),C(),f(8,16),s(9,ge,2,0,"th",14)(10,fe,4,4,"td",15),C(),f(11,17),s(12,Ce,2,0,"th",18)(13,xe,7,0,"td",19),C(),s(14,he,1,0,"tr",20)(15,ve,1,0,"tr",21),a(),s(16,Me,7,0,"div",22),a()),e&2){let i=d();o(),m("dataSource",i.dataSource),o(13),m("matHeaderRowDef",i.displayedColumns),o(),m("matRowDefColumns",i.displayedColumns),o(),m("ngIf",i.dataSource.length===0)}}function Se(e,t){if(e&1){let i=x();n(0,"mat-paginator",36),_("page",function(c){u(i);let p=d();return g(p.onPageChange(c))}),a()}if(e&2){let i=d();m("length",i.totalItems)("pageSize",i.pageSize)("pageSizeOptions",b(4,me))("pageIndex",i.currentPage)}}var le=class e{constructor(t,i){this.areaService=t;this.router=i}dataSource=[];displayedColumns=["IdArea","Descripcion","AudFecha","acciones"];loading=!1;error=null;totalItems=0;pageSize=10;currentPage=0;ngOnInit(){this.cargarAreas()}cargarAreas(){this.loading=!0,this.error=null,this.areaService.getAll(this.currentPage,this.pageSize).subscribe({next:t=>{this.dataSource=t.data,this.totalItems=t.total,this.loading=!1},error:t=>{console.error("Error al cargar \xE1reas:",t),this.error="Error al cargar las \xE1reas",this.loading=!1}})}onPageChange(t){this.currentPage=t.pageIndex,this.pageSize=t.pageSize,this.cargarAreas()}crearArea(){this.router.navigate(["/areas/nueva"])}verDetalleArea(t){this.router.navigate(["/areas",t])}editarArea(t){this.router.navigate(["/areas",t,"editar"])}eliminarArea(t){confirm("\xBFEst\xE1 seguro de que desea eliminar esta \xE1rea?")&&this.areaService.delete(t).subscribe({next:()=>{this.cargarAreas()},error:i=>{console.error("Error al eliminar \xE1rea:",i),alert("Error al eliminar el \xE1rea")}})}static \u0275fac=function(i){return new(i||e)(h(oe),h(O))};static \u0275cmp=A({type:e,selectors:[["app-areas-list"]],decls:16,vars:3,consts:[[1,"areas-container"],[1,"header-actions"],["mat-raised-button","","color","primary",3,"click"],["class","loading-container",4,"ngIf"],["class","table-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","pageIndex","page",4,"ngIf"],[1,"loading-container"],["diameter","50"],[1,"table-container"],["mat-table","",1,"areas-table",3,"dataSource"],["matColumnDef","IdArea"],["mat-header-cell","","class","id-column",4,"matHeaderCellDef"],["mat-cell","","class","id-column",4,"matCellDef"],["matColumnDef","Descripcion"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","AudFecha"],["matColumnDef","acciones"],["mat-header-cell","","class","actions-column",4,"matHeaderCellDef"],["mat-cell","","class","actions-column",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","table-row",3,"click",4,"matRowDef","matRowDefColumns"],["class","no-data",4,"ngIf"],["mat-header-cell","",1,"id-column"],["mat-cell","",1,"id-column"],["mat-header-cell",""],["mat-cell",""],[1,"descripcion-cell"],[1,"fecha-audit"],["mat-header-cell","",1,"actions-column"],["mat-cell","",1,"actions-column"],["mat-icon-button","","color","primary","matTooltip","Editar \xE1rea",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar \xE1rea",3,"click"],["mat-header-row",""],["mat-row","",1,"table-row",3,"click"],[1,"no-data"],["showFirstLastButtons","",3,"page","length","pageSize","pageSizeOptions","pageIndex"]],template:function(i,l){i&1&&(n(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),r(5,"business"),a(),r(6," Gesti\xF3n de \xC1reas "),a(),n(7,"div",1)(8,"button",2),_("click",function(){return l.crearArea()}),n(9,"mat-icon"),r(10,"add"),a(),r(11," Nueva \xC1rea "),a()()(),n(12,"mat-card-content"),s(13,se,4,0,"div",3)(14,Ae,17,4,"div",4)(15,Se,1,5,"mat-paginator",5),a()()()),i&2&&(o(13),m("ngIf",l.loading),o(),m("ngIf",!l.loading),o(),m("ngIf",!l.loading&&l.dataSource.length>0))},dependencies:[D,P,T,Z,j,G,U,J,q,W,K,Q,X,Y,ne,ie,R,V,z,k,L,N,F,B,$,H,re,ae,te,ee,y,I],styles:[".areas-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:1200px;margin:0 auto}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:3rem;gap:1rem}.table-container[_ngcontent-%COMP%]{margin-top:1rem;overflow-x:auto}.areas-table[_ngcontent-%COMP%]{width:100%;background:#fff}.id-column[_ngcontent-%COMP%]{width:80px;text-align:center}.actions-column[_ngcontent-%COMP%]{width:120px;text-align:center}.descripcion-cell[_ngcontent-%COMP%]{padding:.5rem 0}.fecha-audit[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.table-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s}.table-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.no-data[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#666}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#ccc;margin-bottom:1rem}mat-card[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0000001a}mat-card-header[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;margin:-1rem -1rem 0;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#416759;font-size:1.25rem;font-weight:600;margin:0}mat-card-content[_ngcontent-%COMP%]{padding:1.5rem}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#416759;color:#fff}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#355a4c}"]})};export{le as AreasListComponent};
