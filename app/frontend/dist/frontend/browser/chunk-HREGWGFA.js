import"./chunk-PVDG46DZ.js";import{a as K}from"./chunk-72DCKGH5.js";import{a as V,b as H,c as z,d as A,e as F,f as B,g as j,h as q,i as L,j as U,k as G}from"./chunk-JFHP4756.js";import{a as Q}from"./chunk-PVK2YKAR.js";import{b as J}from"./chunk-6J5RYYQJ.js";import"./chunk-KCUSWNL7.js";import{a as O,b as k}from"./chunk-LTI5L47W.js";import"./chunk-7U2T7U2W.js";import{X as R,Y as N,Z as $}from"./chunk-3B4OGLPL.js";import{c as y}from"./chunk-OL3NKZYM.js";import{Ac as D,Ga as r,Gc as I,Ic as P,Ka as b,Lb as E,Mb as o,Nb as s,Ob as S,Ra as h,Va as l,Xb as v,Zb as w,ga as C,ha as T,kb as p,lb as n,mb as a,nb as M,rb as m,sb as c,ub as g,wb as _,yb as f}from"./chunk-FEQCTJNV.js";import"./chunk-TSRGIXR5.js";function X(t,e){t&1&&(n(0,"th",19),o(1,"ID"),a())}function Y(t,e){if(t&1&&(n(0,"td",20),o(1),a()),t&2){let i=e.$implicit;r(),s(i.IdTitular)}}function Z(t,e){t&1&&(n(0,"th",19),o(1,"Nombre"),a())}function tt(t,e){if(t&1&&(n(0,"td",20),o(1),a()),t&2){let i=e.$implicit;r(),s(i.Nombre)}}function et(t,e){t&1&&(n(0,"th",19),o(1,"Tipo Persona"),a())}function it(t,e){if(t&1&&(n(0,"td",20),o(1),a()),t&2){let i=e.$implicit;r(),s(i.TipoPersona)}}function nt(t,e){t&1&&(n(0,"th",19),o(1,"DNI/CUIT"),a())}function at(t,e){if(t&1&&(n(0,"td",20),o(1),a()),t&2){let i=e.$implicit;r(),s(i.DniCuit)}}function ot(t,e){t&1&&(n(0,"th",19),o(1,"Email"),a())}function rt(t,e){if(t&1&&(n(0,"td",20),o(1),a()),t&2){let i=e.$implicit;r(),s(i.Email)}}function lt(t,e){t&1&&(n(0,"th",19),o(1,"Tel\xE9fono"),a())}function mt(t,e){if(t&1&&(n(0,"td",20),o(1),a()),t&2){let i=e.$implicit;r(),s(i.Telefono)}}function ct(t,e){t&1&&(n(0,"th",19),o(1,"Estado"),a())}function st(t,e){if(t&1&&(n(0,"td",20)(1,"span",21),o(2),a()()),t&2){let i=e.$implicit;r(),E("estado-"+(i.Estado==null?null:i.Estado.toLowerCase())),r(),S(" ",i.Estado," ")}}function dt(t,e){t&1&&(n(0,"th",19),o(1,"Fecha Asignaci\xF3n"),a())}function ut(t,e){if(t&1&&(n(0,"td",20),o(1),v(2,"date"),a()),t&2){let i=e.$implicit;r(),s(w(2,1,i.FechaAsignacion,"dd/MM/yyyy"))}}function pt(t,e){t&1&&(n(0,"th",19),o(1,"Acciones"),a())}function _t(t,e){if(t&1){let i=g();n(0,"td",20)(1,"button",22),_("click",function(){let u=C(i).$implicit,x=f(2);return T(x.editTitular(u.IdTitular))}),n(2,"mat-icon"),o(3,"edit"),a()(),n(4,"button",23),_("click",function(){let u=C(i).$implicit,x=f(2);return T(x.deleteTitular(u.IdTitular))}),n(5,"mat-icon"),o(6,"delete"),a()()()}}function ft(t,e){t&1&&M(0,"tr",24)}function Ct(t,e){t&1&&M(0,"tr",25)}function Tt(t,e){if(t&1&&(n(0,"table",5),m(1,6),l(2,X,2,0,"th",7)(3,Y,2,1,"td",8),c(),m(4,9),l(5,Z,2,0,"th",7)(6,tt,2,1,"td",8),c(),m(7,10),l(8,et,2,0,"th",7)(9,it,2,1,"td",8),c(),m(10,11),l(11,nt,2,0,"th",7)(12,at,2,1,"td",8),c(),m(13,12),l(14,ot,2,0,"th",7)(15,rt,2,1,"td",8),c(),m(16,13),l(17,lt,2,0,"th",7)(18,mt,2,1,"td",8),c(),m(19,14),l(20,ct,2,0,"th",7)(21,st,3,3,"td",8),c(),m(22,15),l(23,dt,2,0,"th",7)(24,ut,3,4,"td",8),c(),m(25,16),l(26,pt,2,0,"th",7)(27,_t,7,0,"td",8),c(),l(28,ft,1,0,"tr",17)(29,Ct,1,0,"tr",18),a()),t&2){let i=f();p("dataSource",i.titulares),r(28),p("matHeaderRowDef",i.displayedColumns),r(),p("matRowDefColumns",i.displayedColumns)}}function xt(t,e){if(t&1){let i=g();n(0,"div",26)(1,"p"),o(2,"No hay titulares registrados"),a(),n(3,"button",27),_("click",function(){C(i);let u=f();return T(u.createTitular())}),n(4,"mat-icon"),o(5,"add"),a(),o(6," Crear Primer Titular "),a()()}}var W=class t{constructor(e,i){this.titularService=e;this.router=i}titulares=[];displayedColumns=["IdTitular","Nombre","TipoPersona","DniCuit","Email","Telefono","Estado","FechaAsignacion","acciones"];ngOnInit(){this.loadTitulares()}loadTitulares(){this.titularService.getAll().subscribe({next:e=>{this.titulares=e},error:e=>{console.error("Error al cargar titulares:",e),alert("Error al cargar los titulares")}})}createTitular(){this.router.navigate(["/titulares/crear"])}editTitular(e){this.router.navigate(["/titulares/editar",e])}deleteTitular(e){confirm("\xBFEst\xE1 seguro de que desea eliminar este titular?")&&this.titularService.delete(e).subscribe({next:()=>{alert("Titular eliminado exitosamente"),this.loadTitulares()},error:i=>{console.error("Error al eliminar titular:",i),alert("Error al eliminar el titular")}})}static \u0275fac=function(i){return new(i||t)(b(Q),b(y))};static \u0275cmp=h({type:t,selectors:[["app-titulares-mineros"]],decls:9,vars:2,consts:[[1,"header-section"],[1,"section-title"],["mat-raised-button","","color","primary",1,"create-btn",3,"click"],["mat-table","","class","mat-elevation-z1 full-width-table",3,"dataSource",4,"ngIf"],["class","no-data",4,"ngIf"],["mat-table","",1,"mat-elevation-z1","full-width-table",3,"dataSource"],["matColumnDef","IdTitular"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Nombre"],["matColumnDef","TipoPersona"],["matColumnDef","DniCuit"],["matColumnDef","Email"],["matColumnDef","Telefono"],["matColumnDef","Estado"],["matColumnDef","FechaAsignacion"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"estado-badge"],["mat-icon-button","","matTooltip","Editar",3,"click"],["mat-icon-button","","matTooltip","Eliminar",1,"delete-btn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no-data"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,d){i&1&&(n(0,"div",0)(1,"h2",1),o(2,"Titulares Mineros"),a(),n(3,"button",2),_("click",function(){return d.createTitular()}),n(4,"mat-icon"),o(5,"add"),a(),o(6," Nuevo Titular "),a()(),l(7,Tt,30,3,"table",3)(8,xt,7,0,"div",4)),i&2&&(r(7),p("ngIf",d.titulares.length),r(),p("ngIf",!d.titulares.length))},dependencies:[P,D,G,V,z,j,A,H,q,F,B,L,U,k,O,K,J,$,N,R,I],styles:[".header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.create-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.full-width-table[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:8px;box-shadow:0 2px 8px #41675914}th.mat-mdc-header-cell[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{background:#416759!important;color:#fff!important;font-weight:700;font-size:1.08rem;border-bottom:2px solid #335248;letter-spacing:.02em;text-transform:none}tr.mat-header-row[_ngcontent-%COMP%]{height:48px}td.mat-mdc-cell[_ngcontent-%COMP%]{color:#222;font-size:1.01rem;border-bottom:1px solid #e8f0ec}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{color:#222}.section-title[_ngcontent-%COMP%]{color:#222;font-weight:700;margin-bottom:18px;font-size:1.35rem;letter-spacing:.01em}.estado-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:.85rem;font-weight:500}.estado-activo[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.estado-inactivo[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.estado-suspendido[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.delete-btn[_ngcontent-%COMP%]{color:#d32f2f}.no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #41675914}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px;color:#666}"]})};export{W as TitularesMinerosComponent};
