import{a as et}from"./chunk-YR7K5A5C.js";import{a as Y,b as Z}from"./chunk-4I7E6TY2.js";import"./chunk-PVDG46DZ.js";import{a as X}from"./chunk-72DCKGH5.js";import{a as tt,b as it}from"./chunk-EMY7YEHD.js";import{a as H,b as $,c as B,d as j,e as A,f as q,g as G,h as J,i as K,j as Q,k as U}from"./chunk-JFHP4756.js";import{a as k,b as F,c as V,e as z,f as R}from"./chunk-5EQPP3UM.js";import"./chunk-BOKKIAFZ.js";import"./chunk-6Y7QP5KE.js";import"./chunk-M5CW5NFQ.js";import{b as W}from"./chunk-6J5RYYQJ.js";import"./chunk-KCUSWNL7.js";import{a as I,b as D}from"./chunk-LTI5L47W.js";import"./chunk-G6RQVBEQ.js";import{w as E}from"./chunk-C2MAVCXR.js";import"./chunk-7U2T7U2W.js";import{X as O,Y as L,Z as y}from"./chunk-3B4OGLPL.js";import{c as w,g as P}from"./chunk-OL3NKZYM.js";import{Ac as S,Ga as c,Ic as b,Ka as v,Mb as a,Nb as T,Ra as M,Va as p,Vb as N,ga as _,ha as u,kb as m,lb as o,mb as n,nb as h,rb as g,sb as C,ub as x,wb as f,yb as s}from"./chunk-FEQCTJNV.js";import"./chunk-TSRGIXR5.js";var at=()=>[5,10,25,50];function ct(t,i){t&1&&(o(0,"div",6),h(1,"mat-spinner",7),o(2,"p"),a(3,"Cargando tipos de notificaci\xF3n..."),n()())}function rt(t,i){t&1&&(o(0,"th",23),a(1,"ID"),n())}function lt(t,i){if(t&1&&(o(0,"td",24),a(1),n()),t&2){let e=i.$implicit;c(),T(e.IdTipoNotificacion)}}function mt(t,i){t&1&&(o(0,"th",25),a(1,"Descripci\xF3n"),n())}function pt(t,i){if(t&1&&(o(0,"td",26)(1,"div",27)(2,"strong"),a(3),n()()()),t&2){let e=i.$implicit;c(3),T(e.Descripcion)}}function st(t,i){t&1&&(o(0,"th",25),a(1,"Descripci\xF3n Corta"),n())}function dt(t,i){if(t&1&&(o(0,"td",26)(1,"span",28),a(2),n()()),t&2){let e=i.$implicit;c(2),T(e.DescCorta||"-")}}function ft(t,i){t&1&&(o(0,"th",29),a(1,"Acciones"),n())}function _t(t,i){if(t&1){let e=x();o(0,"td",30)(1,"button",31),f("click",function(l){let d=_(e).$implicit;return s(2).editarTipoNotificacion(d.IdTipoNotificacion),u(l.stopPropagation())}),o(2,"mat-icon"),a(3,"edit"),n()(),o(4,"button",32),f("click",function(l){let d=_(e).$implicit;return s(2).eliminarTipoNotificacion(d.IdTipoNotificacion),u(l.stopPropagation())}),o(5,"mat-icon"),a(6,"delete"),n()()()}}function ut(t,i){t&1&&h(0,"tr",33)}function gt(t,i){if(t&1){let e=x();o(0,"tr",34),f("click",function(){let l=_(e).$implicit,d=s(2);return u(d.verDetalleTipoNotificacion(l.IdTipoNotificacion))}),n()}}function Ct(t,i){if(t&1){let e=x();o(0,"div",35)(1,"mat-icon"),a(2,"notifications_off"),n(),o(3,"p"),a(4,"No se encontraron tipos de notificaci\xF3n"),n(),o(5,"button",2),f("click",function(){_(e);let l=s(2);return u(l.crearTipoNotificacion())}),a(6," Crear primer tipo de notificaci\xF3n "),n()()}}function xt(t,i){if(t&1&&(o(0,"div",8)(1,"table",9),g(2,10),p(3,rt,2,0,"th",11)(4,lt,2,1,"td",12),C(),g(5,13),p(6,mt,2,0,"th",14)(7,pt,4,1,"td",15),C(),g(8,16),p(9,st,2,0,"th",14)(10,dt,3,1,"td",15),C(),g(11,17),p(12,ft,2,0,"th",18)(13,_t,7,0,"td",19),C(),p(14,ut,1,0,"tr",20)(15,gt,1,0,"tr",21),n(),p(16,Ct,7,0,"div",22),n()),t&2){let e=s();c(),m("dataSource",e.dataSource),c(13),m("matHeaderRowDef",e.displayedColumns),c(),m("matRowDefColumns",e.displayedColumns),c(),m("ngIf",e.dataSource.length===0)}}function Tt(t,i){if(t&1){let e=x();o(0,"mat-paginator",36),f("page",function(l){_(e);let d=s();return u(d.onPageChange(l))}),n()}if(t&2){let e=s();m("length",e.totalItems)("pageSize",e.pageSize)("pageSizeOptions",N(4,at))("pageIndex",e.currentPage)}}var ot=class t{constructor(i,e){this.tipoNotificacionService=i;this.router=e}dataSource=[];displayedColumns=["IdTipoNotificacion","Descripcion","DescCorta","acciones"];loading=!1;error=null;totalItems=0;pageSize=10;currentPage=0;ngOnInit(){this.cargarTiposNotificacion()}cargarTiposNotificacion(){this.loading=!0,this.error=null,this.tipoNotificacionService.getAll(this.currentPage,this.pageSize).subscribe({next:i=>{this.dataSource=i.data,this.totalItems=i.total,this.loading=!1},error:i=>{console.error("Error al cargar tipos de notificaci\xF3n:",i),this.error="Error al cargar los tipos de notificaci\xF3n",this.loading=!1}})}onPageChange(i){this.currentPage=i.pageIndex,this.pageSize=i.pageSize,this.cargarTiposNotificacion()}crearTipoNotificacion(){this.router.navigate(["/tipos-notificacion/nuevo"])}verDetalleTipoNotificacion(i){this.router.navigate(["/tipos-notificacion",i])}editarTipoNotificacion(i){this.router.navigate(["/tipos-notificacion",i,"editar"])}eliminarTipoNotificacion(i){confirm("\xBFEst\xE1 seguro de que desea eliminar este tipo de notificaci\xF3n?")&&this.tipoNotificacionService.delete(i).subscribe({next:()=>{this.cargarTiposNotificacion()},error:e=>{console.error("Error al eliminar tipo de notificaci\xF3n:",e),alert("Error al eliminar el tipo de notificaci\xF3n")}})}static \u0275fac=function(e){return new(e||t)(v(et),v(w))};static \u0275cmp=M({type:t,selectors:[["app-tipos-notificacion-list"]],decls:16,vars:3,consts:[[1,"tipos-notificacion-container"],[1,"header-actions"],["mat-raised-button","","color","primary",3,"click"],["class","loading-container",4,"ngIf"],["class","table-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","pageIndex","page",4,"ngIf"],[1,"loading-container"],["diameter","50"],[1,"table-container"],["mat-table","",1,"tipos-table",3,"dataSource"],["matColumnDef","IdTipoNotificacion"],["mat-header-cell","","class","id-column",4,"matHeaderCellDef"],["mat-cell","","class","id-column",4,"matCellDef"],["matColumnDef","Descripcion"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","DescCorta"],["matColumnDef","acciones"],["mat-header-cell","","class","actions-column",4,"matHeaderCellDef"],["mat-cell","","class","actions-column",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","table-row",3,"click",4,"matRowDef","matRowDefColumns"],["class","no-data",4,"ngIf"],["mat-header-cell","",1,"id-column"],["mat-cell","",1,"id-column"],["mat-header-cell",""],["mat-cell",""],[1,"descripcion-cell"],[1,"desc-corta"],["mat-header-cell","",1,"actions-column"],["mat-cell","",1,"actions-column"],["mat-icon-button","","color","primary","matTooltip","Editar tipo de notificaci\xF3n",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar tipo de notificaci\xF3n",3,"click"],["mat-header-row",""],["mat-row","",1,"table-row",3,"click"],[1,"no-data"],["showFirstLastButtons","",3,"page","length","pageSize","pageSizeOptions","pageIndex"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),a(5,"notifications"),n(),a(6," Gesti\xF3n de Tipos de Notificaci\xF3n "),n(),o(7,"div",1)(8,"button",2),f("click",function(){return r.crearTipoNotificacion()}),o(9,"mat-icon"),a(10,"add"),n(),a(11," Nuevo Tipo de Notificaci\xF3n "),n()()(),o(12,"mat-card-content"),p(13,ct,4,0,"div",3)(14,xt,17,4,"div",4)(15,Tt,1,5,"mat-paginator",5),n()()()),e&2&&(c(13),m("ngIf",r.loading),c(),m("ngIf",!r.loading),c(),m("ngIf",!r.loading&&r.dataSource.length>0))},dependencies:[b,S,P,U,H,B,G,j,$,J,A,q,K,Q,Z,Y,y,L,O,D,I,R,k,V,z,F,it,tt,X,W,E],styles:[".tipos-notificacion-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:1200px;margin:0 auto}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:3rem;gap:1rem}.table-container[_ngcontent-%COMP%]{margin-top:1rem;overflow-x:auto}.tipos-table[_ngcontent-%COMP%]{width:100%;background:#fff}.id-column[_ngcontent-%COMP%]{width:80px;text-align:center}.actions-column[_ngcontent-%COMP%]{width:120px;text-align:center}.descripcion-cell[_ngcontent-%COMP%]{padding:.5rem 0}.desc-corta[_ngcontent-%COMP%]{color:#666;font-style:italic}.table-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s}.table-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.no-data[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#666}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#ccc;margin-bottom:1rem}mat-card[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0000001a}mat-card-header[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;margin:-1rem -1rem 0;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#416759;font-size:1.25rem;font-weight:600;margin:0}mat-card-content[_ngcontent-%COMP%]{padding:1.5rem}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#416759;color:#fff}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#355a4c}"]})};export{ot as TiposNotificacionListComponent};
