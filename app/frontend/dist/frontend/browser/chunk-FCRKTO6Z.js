import{a as ot,b as at,c as mt}from"./chunk-CKYO2KJ4.js";import{a as dt,b as lt}from"./chunk-EMY7YEHD.js";import{b as Ve}from"./chunk-LH6N62SP.js";import{c as it}from"./chunk-CN5NB4UJ.js";import{a as Ge,b as Le,c as Je,d as Ye,e as Ke,f as Qe,g as We,h as Xe,i as Ze,j as et,k as tt}from"./chunk-JFHP4756.js";import{a as ze,b as He,c as je,d as Ae,e as Ue}from"./chunk-3F5CI5MP.js";import{a as rt}from"./chunk-PVK2YKAR.js";import{a as Pe}from"./chunk-H62BNP7K.js";import{c as xe,d as qe,e as be,f as Ce}from"./chunk-CUCTTRDO.js";import{a as nt}from"./chunk-UIXLCLYE.js";import{a as z,b as H,c as j,d as Be,e as A,f as U}from"./chunk-5EQPP3UM.js";import"./chunk-MS4AQ6UA.js";import{b as _e,c as ve}from"./chunk-GKRR3LY4.js";import{d as ue,h as fe,i as ge}from"./chunk-BOKKIAFZ.js";import{a as Me}from"./chunk-6Y7QP5KE.js";import{b as me,c as de,d as le,e as pe,f as ce,i as se}from"./chunk-M5CW5NFQ.js";import"./chunk-6J5RYYQJ.js";import{a as he}from"./chunk-KCUSWNL7.js";import{a as k,b as N}from"./chunk-LTI5L47W.js";import"./chunk-G6RQVBEQ.js";import{c as Q,e as h,g as W,h as X,m as Z,n as ee,p as te,q as ie,s as ne,u as re,v as oe,x as ae}from"./chunk-C2MAVCXR.js";import"./chunk-7U2T7U2W.js";import{X as $e,Y as V,Z as $}from"./chunk-3B4OGLPL.js";import{a as ke,c as Ne}from"./chunk-OL3NKZYM.js";import{Ac as y,Ga as m,Gc as Te,Ib as D,Ic as w,Ka as x,Mb as o,Nb as C,Ob as g,Oc as T,Qc as K,Ra as S,Va as p,Wb as De,Xa as E,Xb as ye,Y as L,Zb as we,aa as J,ga as u,ha as M,kb as d,lb as r,mb as n,nb as _,o as G,rb as O,sb as F,ua as Fe,ub as q,wb as f,yb as c,zc as Y}from"./chunk-FEQCTJNV.js";import{a as B}from"./chunk-TSRGIXR5.js";var R=class i{constructor(e){this.http=e}apiUrl=he;getReqMineroMovs(e){let t=new T;if(e){let a={};e.IdPropiedadMinera&&(a.IdPropiedadMinera=e.IdPropiedadMinera),e.IdReqMinero&&(a.IdReqMinero=e.IdReqMinero),e.Descripcion&&e.Descripcion.trim()&&(a.Descripcion=e.Descripcion.trim()),e.FechaDesde&&(a.FechaDesde=e.FechaDesde.toISOString()),e.FechaHasta&&(a.FechaHasta=e.FechaHasta.toISOString()),Object.keys(a).length>0&&(t=t.append("filter",JSON.stringify(a))),e.range&&(t=t.append("range",JSON.stringify(e.range)))}return this.http.get(`${this.apiUrl}/req-minero-movs`,{params:t,observe:"response"}).pipe(G(a=>{let l=a.body||[],s=a.headers.get("Content-Range"),v=l.length;if(s){let b=s.match(/\/(\d+)$/);b&&(v=parseInt(b[1],10))}return{data:l,total:v}}))}getReqMineroMovById(e){return this.http.get(`${this.apiUrl}/req-minero-movs/${e}`)}getReqMineroMovsByPropiedad(e,t=0,a=100){let l=new T().set("skip",t.toString()).set("limit",a.toString());return this.http.get(`${this.apiUrl}/propiedades-mineras/${e}/req-minero-movs`,{params:l,observe:"response"}).pipe(G(s=>{let v=s.body||[],b=s.headers.get("Content-Range"),P=v.length;if(b){let I=b.match(/\/(\d+)$/);I&&(P=parseInt(I[1],10))}return{data:v,total:P}}))}createReqMineroMov(e){return this.http.post(`${this.apiUrl}/req-minero-movs`,e)}createReqMineroMovForPropiedad(e,t){return this.http.post(`${this.apiUrl}/propiedades-mineras/${e}/req-minero-movs`,t)}updateReqMineroMov(e,t){return this.http.put(`${this.apiUrl}/req-minero-movs/${e}`,t)}deleteReqMineroMov(e){return this.http.delete(`${this.apiUrl}/req-minero-movs/${e}`)}getReqMineros(){return this.http.get(`${this.apiUrl}/req-mineros`).pipe(G(e=>e.data||[]))}getPropiedadMinera(e){return this.http.get(`${this.apiUrl}/propiedades-mineras/${e}`)}static \u0275fac=function(t){return new(t||i)(J(K))};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};function qt(i,e){if(i&1&&(r(0,"div",3)(1,"label",4),o(2,"Propiedad Minera:"),n(),r(3,"div",5)(4,"mat-form-field",6),_(5,"input",19),r(6,"mat-icon",20),o(7,"business"),n()()()()),i&2){let t=c();m(5),d("value",t.propiedadMineraNombre||"Cargando...")}}function bt(i,e){if(i&1&&(r(0,"mat-option",21),o(1),n()),i&2){let t=e.$implicit;d("value",t.IdReqMinero),m(),g(" ",t.Tipo||"Sin tipo"," ")}}function Ct(i,e){i&1&&(r(0,"mat-error"),o(1," El tipo de requerimiento es requerido "),n())}function Pt(i,e){i&1&&(r(0,"mat-error"),o(1," La fecha es requerida "),n())}function It(i,e){i&1&&(r(0,"mat-error"),o(1," La descripci\xF3n es requerida "),n())}function Rt(i,e){i&1&&(r(0,"mat-error"),o(1," El importe debe ser mayor a 0 "),n())}function St(i,e){if(i&1&&(r(0,"div",10)(1,"mat-form-field",6)(2,"mat-label"),o(3,"Importe"),n(),_(4,"input",22),r(5,"span",23),o(6,"$ "),n(),p(7,Rt,2,0,"mat-error",9),n()()),i&2){let t,a=c();m(7),d("ngIf",(t=a.reqMineroForm.get("Importe"))==null?null:t.hasError("min"))}}var Re=class i{constructor(e,t){this.fb=e;this.reqMineroMovService=t;this.reqMineroForm=this.createForm()}idPropiedadMinera=null;create=new E;cancelar=new E;reqMineroForm;reqMineros=[];propiedadMineraNombre="";isSubmitting=!1;ngOnInit(){this.loadReqMineros(),this.idPropiedadMinera&&(this.loadPropiedadMineraNombre(),this.reqMineroForm.patchValue({IdPropiedadMinera:this.idPropiedadMinera})),this.reqMineroForm.get("IdReqMinero")?.valueChanges.subscribe(e=>{e!==1&&this.reqMineroForm.patchValue({Importe:null})})}loadReqMineros(){this.reqMineroMovService.getReqMineros().subscribe({next:e=>{this.reqMineros=e},error:e=>{console.error("Error loading req mineros:",e),this.reqMineros=[]}})}loadPropiedadMineraNombre(){this.idPropiedadMinera&&this.reqMineroMovService.getPropiedadMinera(this.idPropiedadMinera).subscribe({next:e=>{this.propiedadMineraNombre=e.Denominacion||e.Nombre||`Propiedad Minera #${this.idPropiedadMinera}`},error:e=>{console.error("Error loading propiedad minera:",e),this.propiedadMineraNombre=`Propiedad Minera #${this.idPropiedadMinera}`}})}createForm(){return this.fb.group({IdPropiedadMinera:[null],IdReqMinero:[null,[h.required,h.min(1)]],Fecha:[new Date,[h.required]],Descripcion:["",[h.required,h.maxLength(500)]],Importe:[null,[h.min(0)]]})}onSubmit(){if(this.reqMineroForm.valid&&!this.isSubmitting){this.isSubmitting=!0;let e=this.reqMineroForm.value,t={IdPropiedadMinera:this.idPropiedadMinera||e.IdPropiedadMinera,IdReqMinero:e.IdReqMinero,Fecha:e.Fecha,Descripcion:e.Descripcion?.trim(),Importe:e.Importe};this.create.emit(t),setTimeout(()=>{this.isSubmitting=!1,this.reqMineroForm.reset(),this.idPropiedadMinera&&this.reqMineroForm.patchValue({IdPropiedadMinera:this.idPropiedadMinera,Fecha:new Date})},1e3)}}onCancel(){this.reqMineroForm.reset(),this.idPropiedadMinera&&this.reqMineroForm.patchValue({IdPropiedadMinera:this.idPropiedadMinera}),this.cancelar.emit()}static \u0275fac=function(t){return new(t||i)(x(oe),x(R))};static \u0275cmp=S({type:i,selectors:[["app-req-minero-mov-create"]],inputs:{idPropiedadMinera:"idPropiedadMinera"},outputs:{create:"create",cancelar:"cancelar"},decls:45,vars:12,consts:[["picker",""],[3,"ngSubmit","formGroup"],["class","form-row horizontal-field",4,"ngIf"],[1,"form-row","horizontal-field"],[1,"field-label"],[1,"field-content"],["appearance","outline",1,"full-width"],["formControlName","IdReqMinero","placeholder","Seleccione un tipo de requerimiento"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"form-row"],["matInput","","formControlName","Fecha","placeholder","Seleccione la fecha","appDateFormat","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","formControlName","Descripcion","placeholder","Ingrese la descripci\xF3n del requerimiento","rows","3","maxlength","500"],["align","end"],["class","form-row",4,"ngIf"],[1,"form-actions"],["mat-button","","type","button","color","warn",3,"click"],["mat-raised-button","","type","submit","color","primary",1,"btn-crear-requerimiento",3,"disabled"],["matInput","","readonly","","placeholder","Propiedad minera asociada",3,"value"],["matIconSuffix",""],[3,"value"],["matInput","","type","number","formControlName","Importe","step","0.01","min","0","placeholder","Ingrese el importe"],["matTextPrefix",""]],template:function(t,a){if(t&1){let l=q();r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),o(4,"add_business"),n(),o(5," Crear Requerimiento Minero "),n()(),r(6,"mat-card-content")(7,"form",1),f("ngSubmit",function(){return u(l),M(a.onSubmit())}),p(8,qt,8,1,"div",2),r(9,"div",3)(10,"label",4),o(11,"Tipo de Requerimiento:"),n(),r(12,"div",5)(13,"mat-form-field",6)(14,"mat-select",7),p(15,bt,2,2,"mat-option",8),n(),p(16,Ct,2,0,"mat-error",9),n()()(),r(17,"div",10)(18,"mat-form-field",6)(19,"mat-label"),o(20,"Fecha"),n(),_(21,"input",11)(22,"mat-datepicker-toggle",12)(23,"mat-datepicker",null,0),p(25,Pt,2,0,"mat-error",9),n()(),r(26,"div",10)(27,"mat-form-field",6)(28,"mat-label"),o(29,"Descripci\xF3n"),n(),r(30,"textarea",13),o(31,"              "),n(),r(32,"mat-hint",14),o(33),n(),p(34,It,2,0,"mat-error",9),n()(),p(35,St,8,1,"div",15),r(36,"div",16)(37,"button",17),f("click",function(){return u(l),M(a.onCancel())}),r(38,"mat-icon"),o(39,"cancel"),n(),o(40," Cancelar "),n(),r(41,"button",18)(42,"mat-icon"),o(43,"save"),n(),o(44),n()()()()()}if(t&2){let l,s,v,b,P,I=D(24);m(7),d("formGroup",a.reqMineroForm),m(),d("ngIf",a.idPropiedadMinera),m(7),d("ngForOf",a.reqMineros),m(),d("ngIf",(l=a.reqMineroForm.get("IdReqMinero"))==null?null:l.hasError("required")),m(5),d("matDatepicker",I),m(),d("for",I),m(3),d("ngIf",(s=a.reqMineroForm.get("Fecha"))==null?null:s.hasError("required")),m(8),g("",((v=a.reqMineroForm.get("Descripcion"))==null||v.value==null?null:v.value.length)||0,"/500"),m(),d("ngIf",(b=a.reqMineroForm.get("Descripcion"))==null?null:b.hasError("required")),m(),d("ngIf",((P=a.reqMineroForm.get("IdReqMinero"))==null?null:P.value)===1),m(6),d("disabled",a.reqMineroForm.invalid||a.isSubmitting),m(3),g(" ",a.isSubmitting?"Guardando...":"Crear Requerimiento"," ")}},dependencies:[w,Y,y,ae,Z,Q,ee,W,X,re,ne,te,ie,Me,se,me,le,de,pe,ce,ve,_e,$,V,Ce,xe,qe,be,N,k,U,z,j,A,H,ge,fe,ue,Pe],styles:['@charset "UTF-8";.form-row[_ngcontent-%COMP%]{margin-bottom:16px}.horizontal-field[_ngcontent-%COMP%]{display:grid;grid-template-columns:180px 1fr;gap:16px;align-items:center;margin-bottom:16px}.field-label[_ngcontent-%COMP%]{font-weight:500;color:#000000b3;font-size:14px;text-align:right;padding-right:8px}.field-content[_ngcontent-%COMP%]{width:100%}.horizontal-field[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%]{display:none!important}.horizontal-field[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:16px!important;padding-bottom:16px!important;padding-left:16px!important}.full-width[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px;padding-top:16px;border-top:1px solid #e0e0e0}mat-card[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}input[readonly][_ngcontent-%COMP%]{background-color:#f5f5f5;color:#666;cursor:not-allowed}.btn-crear-requerimiento[_ngcontent-%COMP%]{cursor:pointer!important;pointer-events:auto!important}.btn-crear-requerimiento[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.btn-test[_ngcontent-%COMP%]{margin-left:8px;background-color:orange!important;color:#fff!important}.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%!important;margin-bottom:8px!important}.mat-mdc-form-field-label[_ngcontent-%COMP%]{position:relative!important;top:auto!important;left:auto!important;background:transparent!important;padding:0!important;z-index:auto!important;font-size:16px!important;color:#0009!important;transform:auto!important;transition:auto!important;white-space:normal!important;max-width:none!important;overflow:visible!important;text-overflow:clip!important}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:16px!important;padding-bottom:16px!important;padding-left:16px!important;min-height:auto!important}.mat-mdc-form-field-outline[_ngcontent-%COMP%]{top:auto!important}.mat-mdc-select-trigger[_ngcontent-%COMP%], .mat-mdc-input-element[_ngcontent-%COMP%]{padding-top:auto!important;padding-bottom:auto!important;padding-left:auto!important;line-height:auto!important;min-height:auto!important}.mat-mdc-select-value[_ngcontent-%COMP%]{line-height:auto!important;padding-top:auto!important}.mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%]{margin-top:auto!important;margin-left:auto!important}']})};function Et(i,e){if(i&1&&(r(0,"div",3)(1,"label",4),o(2,"Propiedad Minera:"),n(),r(3,"div",5)(4,"mat-form-field",6),_(5,"input",20),r(6,"mat-icon",21),o(7,"business"),n()()()()),i&2){let t=c();m(5),d("value",t.propiedadMineraNombre||"Cargando...")}}function Ot(i,e){if(i&1&&(r(0,"mat-option",22),o(1),n()),i&2){let t=e.$implicit;d("value",t.IdReqMinero),m(),g(" ",t.Tipo||"Sin tipo"," ")}}function Ft(i,e){i&1&&(r(0,"mat-error"),o(1," El tipo de requerimiento es requerido "),n())}function Dt(i,e){i&1&&(r(0,"mat-error"),o(1," La fecha es requerida "),n())}function yt(i,e){i&1&&(r(0,"mat-error"),o(1," La descripci\xF3n es requerida "),n())}function wt(i,e){i&1&&(r(0,"mat-error"),o(1," El importe debe ser mayor a 0 "),n())}function Tt(i,e){if(i&1&&(r(0,"div",10)(1,"mat-form-field",6)(2,"mat-label"),o(3,"Importe"),n(),_(4,"input",23),r(5,"span",24),o(6,"$ "),n(),p(7,wt,2,0,"mat-error",9),n()()),i&2){let t,a=c();m(7),d("ngIf",(t=a.reqMineroForm.get("Importe"))==null?null:t.hasError("min"))}}function kt(i,e){if(i&1&&(r(0,"div",26)(1,"strong"),o(2,"Usuario:"),n(),o(3),n()),i&2){let t=c(2);m(3),g(" ",t.reqMineroMov==null?null:t.reqMineroMov.AudUsuario," ")}}function Nt(i,e){if(i&1&&(r(0,"div",25)(1,"div",26)(2,"strong"),o(3,"\xDAltima modificaci\xF3n:"),n(),o(4),ye(5,"date"),n(),p(6,kt,4,1,"div",27),n()),i&2){let t=c();m(4),g(" ",we(5,2,t.reqMineroMov==null?null:t.reqMineroMov.AudFecha,"dd/MM/yyyy HH:mm")," "),m(2),d("ngIf",t.reqMineroMov==null?null:t.reqMineroMov.AudUsuario)}}var Se=class i{constructor(e,t){this.fb=e;this.reqMineroMovService=t;this.reqMineroForm=this.createForm()}reqMineroMov=null;update=new E;cancelar=new E;reqMineroForm;reqMineros=[];propiedadMineraNombre="";isSubmitting=!1;originalFormValue={};ngOnInit(){this.loadReqMineros(),this.loadFormData(),this.reqMineroMov?.IdPropiedadMinera&&this.loadPropiedadMineraNombre(this.reqMineroMov.IdPropiedadMinera),this.reqMineroForm.get("IdReqMinero")?.valueChanges.subscribe(e=>{e!==1&&this.reqMineroForm.patchValue({Importe:null})})}loadReqMineros(){this.reqMineroMovService.getReqMineros().subscribe({next:e=>{this.reqMineros=e},error:e=>{console.error("Error loading req mineros:",e),this.reqMineros=[]}})}loadPropiedadMineraNombre(e){this.reqMineroMovService.getPropiedadMinera(e).subscribe({next:t=>{this.propiedadMineraNombre=t.Denominacion||t.Nombre||`Propiedad Minera #${e}`},error:t=>{console.error("Error loading propiedad minera:",t),this.propiedadMineraNombre=`Propiedad Minera #${e}`}})}ngOnChanges(e){e.reqMineroMov&&e.reqMineroMov.currentValue&&(this.loadFormData(),this.reqMineroMov?.IdPropiedadMinera&&this.loadPropiedadMineraNombre(this.reqMineroMov.IdPropiedadMinera))}createForm(){return this.fb.group({IdReqMinero:[null,[h.required,h.min(1)]],Fecha:[null,[h.required]],Descripcion:["",[h.required,h.maxLength(500)]],Importe:[null,[h.min(0)]]})}loadFormData(){if(this.reqMineroMov){let e={IdReqMinero:this.reqMineroMov.IdReqMinero,Fecha:this.reqMineroMov.Fecha?new Date(this.reqMineroMov.Fecha):null,Descripcion:this.reqMineroMov.Descripcion||"",Importe:this.reqMineroMov.Importe};this.reqMineroForm.patchValue(e),this.originalFormValue=B({},e)}}hasChanges(){if(!this.reqMineroMov)return!1;let e=this.reqMineroForm.value;return JSON.stringify(e)!==JSON.stringify(this.originalFormValue)}onSubmit(){if(this.reqMineroForm.valid&&!this.isSubmitting&&this.hasChanges()){this.isSubmitting=!0;let e=this.reqMineroForm.value,t={IdPropiedadMinera:this.reqMineroMov?.IdPropiedadMinera,IdReqMinero:e.IdReqMinero,Fecha:e.Fecha,Descripcion:e.Descripcion?.trim(),Importe:e.Importe};this.update.emit(t),setTimeout(()=>{this.isSubmitting=!1},1e3)}}onCancel(){this.loadFormData(),this.cancelar.emit()}static \u0275fac=function(t){return new(t||i)(x(oe),x(R))};static \u0275cmp=S({type:i,selectors:[["app-req-minero-mov-edit"]],inputs:{reqMineroMov:"reqMineroMov"},outputs:{update:"update",cancelar:"cancelar"},features:[Fe],decls:46,vars:13,consts:[["picker",""],[3,"ngSubmit","formGroup"],["class","form-row horizontal-field",4,"ngIf"],[1,"form-row","horizontal-field"],[1,"field-label"],[1,"field-content"],["appearance","outline",1,"full-width"],["formControlName","IdReqMinero","placeholder","Seleccione un tipo de requerimiento"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"form-row"],["matInput","","formControlName","Fecha","placeholder","Seleccione la fecha","appDateFormat","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","formControlName","Descripcion","placeholder","Ingrese la descripci\xF3n del requerimiento","rows","3","maxlength","500"],["align","end"],["class","form-row",4,"ngIf"],["class","audit-info",4,"ngIf"],[1,"form-actions"],["mat-button","","type","button","color","warn",3,"click"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],["matInput","","readonly","","placeholder","Propiedad minera asociada",3,"value"],["matIconSuffix",""],[3,"value"],["matInput","","type","number","formControlName","Importe","step","0.01","min","0","placeholder","Ingrese el importe"],["matTextPrefix",""],[1,"audit-info"],[1,"audit-item"],["class","audit-item",4,"ngIf"]],template:function(t,a){if(t&1){let l=q();r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),o(4,"edit_note"),n(),o(5," Editar Requerimiento Minero "),n()(),r(6,"mat-card-content")(7,"form",1),f("ngSubmit",function(){return u(l),M(a.onSubmit())}),p(8,Et,8,1,"div",2),r(9,"div",3)(10,"label",4),o(11,"Tipo de Requerimiento:"),n(),r(12,"div",5)(13,"mat-form-field",6)(14,"mat-select",7),p(15,Ot,2,2,"mat-option",8),n(),p(16,Ft,2,0,"mat-error",9),n()()(),r(17,"div",10)(18,"mat-form-field",6)(19,"mat-label"),o(20,"Fecha"),n(),_(21,"input",11)(22,"mat-datepicker-toggle",12)(23,"mat-datepicker",null,0),p(25,Dt,2,0,"mat-error",9),n()(),r(26,"div",10)(27,"mat-form-field",6)(28,"mat-label"),o(29,"Descripci\xF3n"),n(),r(30,"textarea",13),o(31,"              "),n(),r(32,"mat-hint",14),o(33),n(),p(34,yt,2,0,"mat-error",9),n()(),p(35,Tt,8,1,"div",15)(36,Nt,7,5,"div",16),r(37,"div",17)(38,"button",18),f("click",function(){return u(l),M(a.onCancel())}),r(39,"mat-icon"),o(40,"cancel"),n(),o(41," Cancelar "),n(),r(42,"button",19)(43,"mat-icon"),o(44,"save"),n(),o(45),n()()()()()}if(t&2){let l,s,v,b,P,I=D(24);m(7),d("formGroup",a.reqMineroForm),m(),d("ngIf",a.reqMineroMov==null?null:a.reqMineroMov.IdPropiedadMinera),m(7),d("ngForOf",a.reqMineros),m(),d("ngIf",(l=a.reqMineroForm.get("IdReqMinero"))==null?null:l.hasError("required")),m(5),d("matDatepicker",I),m(),d("for",I),m(3),d("ngIf",(s=a.reqMineroForm.get("Fecha"))==null?null:s.hasError("required")),m(8),g("",((v=a.reqMineroForm.get("Descripcion"))==null||v.value==null?null:v.value.length)||0,"/500"),m(),d("ngIf",(b=a.reqMineroForm.get("Descripcion"))==null?null:b.hasError("required")),m(),d("ngIf",((P=a.reqMineroForm.get("IdReqMinero"))==null?null:P.value)===1),m(),d("ngIf",a.reqMineroMov==null?null:a.reqMineroMov.AudFecha),m(6),d("disabled",a.reqMineroForm.invalid||a.isSubmitting||!a.hasChanges()),m(3),g(" ",a.isSubmitting?"Guardando...":"Actualizar Requerimiento"," ")}},dependencies:[w,Y,y,ae,Z,Q,ee,W,X,re,ne,te,ie,Me,se,me,le,de,pe,ce,ve,_e,$,V,Ce,xe,qe,be,N,k,U,z,j,A,H,ge,fe,ue,Pe,Te],styles:['@charset "UTF-8";.form-row[_ngcontent-%COMP%]{margin-bottom:16px}.horizontal-field[_ngcontent-%COMP%]{display:grid;grid-template-columns:180px 1fr;gap:16px;align-items:center;margin-bottom:16px}.field-label[_ngcontent-%COMP%]{font-weight:500;color:#000000b3;font-size:14px;text-align:right;padding-right:8px}.field-content[_ngcontent-%COMP%]{width:100%}.horizontal-field[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%]{display:none!important}.horizontal-field[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:16px!important;padding-bottom:16px!important;padding-left:16px!important}.full-width[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px;padding-top:16px;border-top:1px solid #e0e0e0}.audit-info[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px;border-radius:4px;margin:16px 0;border-left:4px solid #2196F3}.audit-item[_ngcontent-%COMP%]{margin-bottom:4px;font-size:.9em;color:#666}mat-card[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}input[readonly][_ngcontent-%COMP%]{background-color:#f5f5f5;color:#666;cursor:not-allowed}.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%!important;margin-bottom:8px!important}.mat-mdc-form-field-label[_ngcontent-%COMP%]{position:relative!important;top:auto!important;left:auto!important;background:transparent!important;padding:0!important;z-index:auto!important;font-size:16px!important;color:#0009!important;transform:auto!important;transition:auto!important;white-space:normal!important;max-width:none!important;overflow:visible!important;text-overflow:clip!important}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:16px!important;padding-bottom:16px!important;padding-left:16px!important;min-height:auto!important}.mat-mdc-form-field-outline[_ngcontent-%COMP%]{top:auto!important}.mat-mdc-select-trigger[_ngcontent-%COMP%], .mat-mdc-input-element[_ngcontent-%COMP%]{padding-top:auto!important;padding-bottom:auto!important;padding-left:auto!important;line-height:auto!important;min-height:auto!important}.mat-mdc-select-value[_ngcontent-%COMP%]{line-height:auto!important;padding-top:auto!important}.mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%]{margin-top:auto!important;margin-left:auto!important}']})};var Ee=class i{constructor(e){this.http=e}apiUrl=he;getReqMineros(e){let t=new T;if(e){let a={};e.IdTransaccion!==void 0&&(a.IdTransaccion=e.IdTransaccion),e.Tipo&&(a.Tipo=e.Tipo),e.Descripcion&&(a.Descripcion=e.Descripcion),Object.keys(a).length>0&&(t=t.set("filter",JSON.stringify(a))),e.range&&e.range.length===2&&(t=t.set("range",JSON.stringify(e.range)))}return this.http.get(`${this.apiUrl}/req-mineros`,{params:t})}getReqMinero(e){return this.http.get(`${this.apiUrl}/req-mineros/${e}`)}getReqMinerosByTransaccion(e,t=0,a=100){let l=new T().set("skip",t.toString()).set("limit",a.toString());return this.http.get(`${this.apiUrl}/transacciones/${e}/req-mineros`,{params:l})}createReqMinero(e){return this.http.post(`${this.apiUrl}/req-mineros`,e)}updateReqMinero(e,t){return this.http.put(`${this.apiUrl}/req-mineros/${e}`,t)}deleteReqMinero(e){return this.http.delete(`${this.apiUrl}/req-mineros/${e}`)}static \u0275fac=function(t){return new(t||i)(J(K))};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var $t=i=>({requerimiento:i});function zt(i,e){if(i&1&&(r(0,"h1"),o(1),n()),i&2){let t=c();m(),g("Propiedad minera ",t.propiedad.Nombre||"Propiedad Minera")}}function Ht(i,e){i&1&&(r(0,"h1"),o(1,"Propiedad Minera"),n())}function jt(i,e){i&1&&(r(0,"div",11),_(1,"mat-spinner"),r(2,"p"),o(3,"Cargando datos de la propiedad..."),n()())}function At(i,e){if(i&1){let t=q();r(0,"button",24),f("click",function(){u(t);let l=c(2);return M(l.editPropiedad())}),r(1,"mat-icon"),o(2,"edit"),n(),o(3," Editar Propiedad "),n()}}function Ut(i,e){if(i&1){let t=q();r(0,"div",25)(1,"app-req-minero-mov-create",26),f("create",function(l){u(t);let s=c(2);return M(s.onCrearRequerimiento(l))})("cancelar",function(){u(t);let l=c(2);return M(l.ocultarFormularioCreacion())}),n()()}if(i&2){let t=c(2);m(),d("idPropiedadMinera",t.propiedadId)}}function Bt(i,e){if(i&1){let t=q();r(0,"div",25)(1,"app-req-minero-mov-edit",27),f("update",function(l){u(t);let s=c(2);return M(s.onActualizarRequerimiento(l))})("cancelar",function(){u(t);let l=c(2);return M(l.ocultarFormularioEdicion())}),n()()}if(i&2){let t=c(2);m(),d("reqMineroMov",t.requerimientoEnEdicion)}}function Gt(i,e){i&1&&(r(0,"div",31),_(1,"mat-spinner",32),r(2,"p"),o(3,"Cargando requerimientos..."),n()())}function Lt(i,e){i&1&&(r(0,"th",45),o(1,"Tipo de Requerimiento"),n())}function Jt(i,e){if(i&1&&(r(0,"td",46),o(1),n()),i&2){let t=e.$implicit,a=c(4);m(),g(" ",t.IdReqMinero?a.getTipoRequerimientoNombre(t.IdReqMinero):"Sin tipo especificado"," ")}}function Yt(i,e){i&1&&(r(0,"th",45),o(1,"Fecha"),n())}function Kt(i,e){if(i&1&&(r(0,"td",46),o(1),n()),i&2){let t=e.$implicit,a=c(4);m(),g(" ",a.formatDate(t.Fecha)," ")}}function Qt(i,e){i&1&&(r(0,"th",45),o(1,"Descripci\xF3n"),n())}function Wt(i,e){if(i&1&&(r(0,"td",46),o(1),n()),i&2){let t=e.$implicit;m(),g(" ",t.Descripcion||"Sin descripci\xF3n"," ")}}function Xt(i,e){i&1&&(r(0,"th",45),o(1,"Importe"),n())}function Zt(i,e){if(i&1&&(r(0,"span",49),o(1),n()),i&2){let t=c().$implicit,a=c(4);m(),g(" ",a.formatCurrency(t.Importe)," ")}}function ei(i,e){i&1&&(r(0,"span",50),o(1,"-"),n())}function ti(i,e){if(i&1&&(r(0,"td",46),p(1,Zt,2,1,"span",47)(2,ei,2,0,"span",48),n()),i&2){let t=e.$implicit;m(),d("ngIf",t.Importe),m(),d("ngIf",!t.Importe)}}function ii(i,e){i&1&&(r(0,"th",45),o(1,"Acciones"),n())}function ni(i,e){if(i&1&&(r(0,"td",46)(1,"button",51)(2,"mat-icon"),o(3,"more_vert"),n()()()),i&2){let t=e.$implicit;c(4);let a=D(12);m(),d("matMenuTriggerFor",a)("matMenuTriggerData",De(2,$t,t))}}function ri(i,e){i&1&&_(0,"tr",52)}function oi(i,e){i&1&&_(0,"tr",53)}function ai(i,e){i&1&&(r(0,"div",54)(1,"mat-icon"),o(2,"assignment"),n(),r(3,"h3"),o(4,"No hay requerimientos registrados"),n(),r(5,"p"),o(6,"A\xFAn no se han agregado requerimientos para esta propiedad minera."),n()())}function mi(i,e){if(i&1&&(r(0,"div",33)(1,"table",34),O(2,35),p(3,Lt,2,0,"th",36)(4,Jt,2,1,"td",37),F(),O(5,38),p(6,Yt,2,0,"th",36)(7,Kt,2,1,"td",37),F(),O(8,39),p(9,Qt,2,0,"th",36)(10,Wt,2,1,"td",37),F(),O(11,40),p(12,Xt,2,0,"th",36)(13,ti,3,2,"td",37),F(),O(14,41),p(15,ii,2,0,"th",36)(16,ni,4,4,"td",37),F(),p(17,ri,1,0,"tr",42)(18,oi,1,0,"tr",43),n(),p(19,ai,7,0,"div",44),n()),i&2){let t=c(3);m(),d("dataSource",t.requerimientos),m(16),d("matHeaderRowDef",t.requerimientosColumns),m(),d("matRowDefColumns",t.requerimientosColumns),m(),d("ngIf",t.requerimientos.length===0)}}function di(i,e){if(i&1){let t=q();r(0,"mat-card",16)(1,"mat-card-header")(2,"mat-card-title"),o(3,"Requerimientos Mineros"),n(),r(4,"mat-card-subtitle"),o(5,"Documentos y requisitos de la propiedad minera"),n(),_(6,"div",17),r(7,"button",28),f("click",function(){u(t);let l=c(2);return M(l.mostrarFormularioCreacion())}),r(8,"mat-icon"),o(9,"add"),n(),o(10," Nuevo Requerimiento "),n()(),r(11,"mat-card-content"),p(12,Gt,4,0,"div",29)(13,mi,20,4,"div",30),n()()}if(i&2){let t=c(2);m(12),d("ngIf",t.loadingRequerimientos),m(),d("ngIf",!t.loadingRequerimientos)}}function li(i,e){if(i&1&&(r(0,"div",12)(1,"mat-tab-group",13)(2,"mat-tab",14)(3,"div",15)(4,"mat-card",16)(5,"mat-card-header")(6,"mat-card-title"),o(7,"Informaci\xF3n General"),n(),_(8,"div",17),p(9,At,4,0,"button",18),n(),r(10,"mat-card-content")(11,"div",19)(12,"div",20)(13,"label"),o(14,"Nombre de la Propiedad:"),n(),r(15,"span"),o(16),n()(),r(17,"div",20)(18,"label"),o(19,"Titular:"),n(),r(20,"span"),o(21),n()(),r(22,"div",20)(23,"label"),o(24,"Provincia:"),n(),r(25,"span"),o(26),n()(),r(27,"div",20)(28,"label"),o(29,"\xC1rea (Hect\xE1reas):"),n(),r(30,"span"),o(31),n()(),r(32,"div",20)(33,"label"),o(34,"Descubrimiento Directo:"),n(),r(35,"span"),o(36),n()()()()(),r(37,"mat-card",16)(38,"mat-card-header")(39,"mat-card-title"),o(40,"Fechas Importantes"),n()(),r(41,"mat-card-content")(42,"div",19)(43,"div",20)(44,"label"),o(45,"Fecha de Solicitud:"),n(),r(46,"span"),o(47),n()(),r(48,"div",20)(49,"label"),o(50,"Fecha de Registro:"),n(),r(51,"span"),o(52),n()(),r(53,"div",20)(54,"label"),o(55,"Fecha de Notificaci\xF3n:"),n(),r(56,"span"),o(57),n()(),r(58,"div",20)(59,"label"),o(60,"Fecha de Mensura:"),n(),r(61,"span"),o(62),n()()()()()()(),r(63,"mat-tab",21)(64,"div",15),p(65,Ut,2,1,"div",22)(66,Bt,2,1,"div",22)(67,di,14,2,"mat-card",23),n()()()()),i&2){let t=c();m(9),d("ngIf",t.propiedad),m(7),C(t.propiedad.Nombre||"No especificado"),m(5),C(t.titularNombre||"Cargando..."),m(5),C(t.propiedad.Provincia||"No especificada"),m(5),C(t.propiedad.AreaHectareas||"No especificada"),m(5),C(t.propiedad.DescubrimientoDirecto||"No especificado"),m(11),C(t.formatDate(t.propiedad.Solicitud)),m(5),C(t.formatDate(t.propiedad.Registro)),m(5),C(t.formatDate(t.propiedad.Notificacion)),m(5),C(t.formatDate(t.propiedad.Mensura)),m(3),d("ngIf",t.mostrandoFormularioCreacion),m(),d("ngIf",t.mostrandoFormularioEdicion&&t.requerimientoEnEdicion),m(),d("ngIf",!t.mostrandoFormularioCreacion&&!t.mostrandoFormularioEdicion)}}function pi(i,e){if(i&1){let t=q();r(0,"button",55),f("click",function(){let l=u(t).requerimiento,s=c();return M(s.editarRequerimiento(l))}),r(1,"mat-icon"),o(2,"edit"),n(),r(3,"span"),o(4,"Editar"),n()(),r(5,"button",55),f("click",function(){let l=u(t).requerimiento,s=c();return M(s.verDetalleRequerimiento(l))}),r(6,"mat-icon"),o(7,"visibility"),n(),r(8,"span"),o(9,"Ver Detalle"),n()(),r(10,"button",55),f("click",function(){let l=u(t).requerimiento,s=c();return M(s.eliminarRequerimiento(l))}),r(11,"mat-icon"),o(12,"delete"),n(),r(13,"span"),o(14,"Eliminar"),n()()}}function ci(i,e){if(i&1){let t=q();r(0,"div",56)(1,"mat-icon",57),o(2,"error"),n(),r(3,"h2"),o(4,"Propiedad no encontrada"),n(),r(5,"p"),o(6,"No se pudo cargar la informaci\xF3n de la propiedad minera."),n(),r(7,"button",24),f("click",function(){u(t);let l=c();return M(l.goBack())}),o(8," Volver al listado "),n()()}}var ft=class i{constructor(e,t,a,l,s,v){this.route=e;this.router=t;this.propiedadService=a;this.reqMineroMovService=l;this.reqMineroService=s;this.titularService=v}propiedad=null;loading=!0;propiedadId=null;titularNombre="";requerimientos=[];loadingRequerimientos=!1;requerimientosColumns=["nombreReqMinero","fecha","descripcion","importe","acciones"];tiposRequerimientos=[];mostrandoFormularioCreacion=!1;mostrandoFormularioEdicion=!1;requerimientoEnEdicion=null;ngOnInit(){this.cargarTiposRequerimientos(),this.route.params.subscribe(e=>{this.propiedadId=+e.id,this.propiedadId?this.loadPropiedad(this.propiedadId):this.loading=!1})}loadPropiedad(e){this.loading=!0,this.propiedadService.getPropiedadById(e).subscribe({next:t=>{this.propiedad=t,this.loading=!1,this.loadRequerimientos(e),t.IdTitular&&this.cargarTitular(t.IdTitular)},error:t=>{console.error("Error al cargar propiedad:",t),this.loading=!1}})}loadRequerimientos(e){this.loadingRequerimientos=!0,this.reqMineroMovService.getReqMineroMovsByPropiedad(e).subscribe({next:t=>{this.requerimientos=t.data,console.log("Requerimientos cargados:",this.requerimientos),this.loadingRequerimientos=!1},error:t=>{console.error("Error al cargar requerimientos:",t),this.requerimientos=[],this.loadingRequerimientos=!1}})}cargarTitular(e){this.titularService.getAll().subscribe({next:t=>{let a=t.find(l=>l.IdTitular===e);this.titularNombre=a?a.Nombre:"Titular no encontrado"},error:()=>{this.titularNombre="Error al cargar titular"}})}cargarTiposRequerimientos(){this.reqMineroService.getReqMineros().subscribe({next:e=>{this.tiposRequerimientos=e.data||[],console.log("Tipos de requerimientos cargados:",this.tiposRequerimientos)},error:e=>{console.error("Error al cargar tipos de requerimientos:",e)}})}getTipoRequerimientoNombre(e){if(!e)return"ID no disponible";console.log("Buscando tipo para ID:",e),console.log("Tipos disponibles:",this.tiposRequerimientos);let t=this.tiposRequerimientos.find(a=>a.IdReqMinero===e);return console.log("Tipo encontrado:",t),t?.Tipo||`No especificado (ID: ${e})`}formatDate(e){if(!e)return"No especificada";try{return(typeof e=="string"?new Date(e):e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}catch{return"Fecha inv\xE1lida"}}formatCurrency(e){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(e)}mostrarFormularioCreacion(){console.log("mostrarFormularioCreacion called"),this.mostrandoFormularioCreacion=!0,this.mostrandoFormularioEdicion=!1,this.requerimientoEnEdicion=null}ocultarFormularioCreacion(){this.mostrandoFormularioCreacion=!1}mostrarFormularioEdicion(e){this.mostrandoFormularioCreacion=!1,this.mostrandoFormularioEdicion=!0,this.requerimientoEnEdicion=B({},e)}ocultarFormularioEdicion(){this.mostrandoFormularioEdicion=!1,this.requerimientoEnEdicion=null}onCrearRequerimiento(e){this.propiedadId&&this.reqMineroMovService.createReqMineroMovForPropiedad(this.propiedadId,e).subscribe({next:t=>{console.log("Requerimiento creado exitosamente:",t),this.ocultarFormularioCreacion(),this.loadRequerimientos(this.propiedadId)},error:t=>{console.error("Error al crear requerimiento:",t),alert("Error al crear el requerimiento. Por favor, intente nuevamente.")}})}onActualizarRequerimiento(e){this.requerimientoEnEdicion?.IdReqMineroMov&&this.reqMineroMovService.updateReqMineroMov(this.requerimientoEnEdicion.IdReqMineroMov,e).subscribe({next:t=>{console.log("Requerimiento actualizado exitosamente:",t),this.ocultarFormularioEdicion(),this.loadRequerimientos(this.propiedadId)},error:t=>{console.error("Error al actualizar requerimiento:",t),alert("Error al actualizar el requerimiento. Por favor, intente nuevamente.")}})}agregarRequerimiento(){this.mostrarFormularioCreacion()}editarRequerimiento(e){this.mostrarFormularioEdicion(e)}verDetalleRequerimiento(e){console.log("Ver detalle requerimiento:",e),alert(`Detalle requerimiento: ${e.Descripcion}`)}eliminarRequerimiento(e){confirm(`\xBFEst\xE1 seguro de que desea eliminar el requerimiento "${e.Descripcion}"?`)&&this.reqMineroMovService.deleteReqMineroMov(e.IdReqMineroMov).subscribe({next:()=>{console.log("Requerimiento eliminado correctamente"),this.propiedadId&&this.loadRequerimientos(this.propiedadId)},error:t=>{console.error("Error al eliminar requerimiento:",t),alert("Error al eliminar el requerimiento")}})}exportarRequerimientos(){console.log("Exportar requerimientos"),alert("Funci\xF3n de exportar requerimientos - Por implementar")}recargarRequerimientos(){this.propiedadId&&this.loadRequerimientos(this.propiedadId)}goBack(){this.router.navigate(["/propiedades"])}editPropiedad(){this.propiedadId&&this.router.navigate(["/propiedades",this.propiedadId,"editar"])}static \u0275fac=function(t){return new(t||i)(x(ke),x(Ne),x(nt),x(R),x(Ee),x(rt))};static \u0275cmp=S({type:i,selectors:[["app-propiedad-detail"]],decls:15,vars:5,consts:[["reqMenu","matMenu"],[1,"detail-container"],[1,"detail-header"],[1,"header-content"],["mat-icon-button","",1,"back-button",3,"click"],[1,"header-info"],[4,"ngIf"],["class","loading-container",4,"ngIf"],["class","tabs-container",4,"ngIf"],["matMenuContent",""],["class","error-container",4,"ngIf"],[1,"loading-container"],[1,"tabs-container"],["animationDuration","300ms"],["label","Datos de Propiedad"],[1,"tab-content"],[1,"info-card"],[1,"spacer"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"info-grid"],[1,"info-item"],["label","Requerimientos Mineros"],["class","formulario-container",4,"ngIf"],["class","info-card",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"formulario-container"],[3,"create","cancelar","idPropiedadMinera"],[3,"update","cancelar","reqMineroMov"],["mat-raised-button","","color","accent",1,"btn-nuevo-requerimiento",3,"click"],["class","loading-requerimientos",4,"ngIf"],["class","requerimientos-table",4,"ngIf"],[1,"loading-requerimientos"],["diameter","40"],[1,"requerimientos-table"],["mat-table","",1,"full-width-table",3,"dataSource"],["matColumnDef","nombreReqMinero"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fecha"],["matColumnDef","descripcion"],["matColumnDef","importe"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-requerimientos",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["class","importe",4,"ngIf"],["class","no-importe",4,"ngIf"],[1,"importe"],[1,"no-importe"],["mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData"],["mat-header-row",""],["mat-row",""],[1,"no-requerimientos"],["mat-menu-item","",3,"click"],[1,"error-container"],["color","warn"]],template:function(t,a){if(t&1){let l=q();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),f("click",function(){return u(l),M(a.goBack())}),r(4,"mat-icon"),o(5,"arrow_back"),n()(),r(6,"div",5),p(7,zt,2,1,"h1",6)(8,Ht,2,0,"h1",6),n()()(),p(9,jt,4,0,"div",7)(10,li,68,13,"div",8),r(11,"mat-menu",null,0),p(13,pi,15,0,"ng-template",9),n(),p(14,ci,9,0,"div",10),n()}t&2&&(m(7),d("ngIf",a.propiedad),m(),d("ngIf",!a.propiedad&&!a.loading),m(),d("ngIf",a.loading),m(),d("ngIf",!a.loading&&a.propiedad),m(4),d("ngIf",!a.loading&&!a.propiedad))},dependencies:[w,y,mt,ot,at,U,z,j,A,Be,H,$,V,$e,N,k,lt,dt,Ve,tt,Ge,Je,We,Ye,Le,Xe,Ke,Qe,Ze,et,it,Ue,je,ze,He,Ae,Re,Se],styles:['.detail-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:24px}.detail-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;padding-bottom:16px;border-bottom:2px solid #e0e0e0}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.back-button[_ngcontent-%COMP%]{color:#666}.header-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#3f51b5;font-size:1.8rem;font-weight:500}.subtitle[_ngcontent-%COMP%]{margin:4px 0 0;color:#666;font-size:.9rem}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;text-align:center;background:linear-gradient(135deg,#f8fffe,#f1f8f6);border-radius:16px;border:1px solid #e1f0ec;margin:20px;box-shadow:0 4px 15px #41675914;transition:all .3s cubic-bezier(.4,0,.2,1)}.loading-container[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #4167591f;transform:translateY(-2px)}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#2d5a48;font-weight:500;font-size:1.1rem}.tabs-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #4167591a;overflow:hidden;border:1px solid #e1f0ec;transition:all .3s cubic-bezier(.4,0,.2,1)}.tabs-container[_ngcontent-%COMP%]:hover{box-shadow:0 8px 30px #41675926}.tab-content[_ngcontent-%COMP%]{padding:24px;min-height:400px}.formulario-container[_ngcontent-%COMP%]{margin-bottom:24px}.info-card[_ngcontent-%COMP%]{margin-bottom:24px;box-shadow:0 4px 15px #41675914;border-radius:16px;border:1px solid #e1f0ec;background:linear-gradient(135deg,#fdfdfd,#f9fdf9);transition:all .3s cubic-bezier(.4,0,.2,1);overflow:hidden}.info-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 25px #4167591f;transform:translateY(-2px)}.info-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex!important;align-items:center;justify-content:space-between}.info-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:10;pointer-events:auto}.btn-nuevo-requerimiento[_ngcontent-%COMP%]{cursor:pointer!important;-webkit-user-select:none;user-select:none}.spacer[_ngcontent-%COMP%]{flex:1}.info-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:20px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:16px;background:linear-gradient(135deg,#f8fffe,#f1f8f6);border-radius:12px;border:1px solid #e1f0ec;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.info-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,#416759,#5a8070);opacity:0;transition:opacity .3s ease}.info-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #4167591f;border-color:#c8e0d7}.info-item[_ngcontent-%COMP%]:hover:before{opacity:1}.info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2d5a48;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px;position:relative}.info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1a4435;font-size:1rem;font-weight:500;line-height:1.4}button[mat-raised-button][_ngcontent-%COMP%]{background:linear-gradient(135deg,#416759,#5a8070)!important;border-radius:12px!important;padding:12px 20px!important;font-weight:600!important;text-transform:uppercase!important;letter-spacing:.5px!important;box-shadow:0 4px 15px #41675940!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;border:none!important}button[mat-raised-button][_ngcontent-%COMP%]:hover{transform:translateY(-2px)!important;box-shadow:0 8px 25px #41675959!important}button[mat-raised-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.back-button[_ngcontent-%COMP%]{color:#416759!important;background:#4167591a!important;border-radius:50%!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important}.back-button[_ngcontent-%COMP%]:hover{background:#41675933!important;transform:translate(-2px)!important}.requerimientos-container[_ngcontent-%COMP%]{margin-top:16px}.requerimiento-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;padding:16px 0}.requerimiento-info[_ngcontent-%COMP%]{flex:1}.requerimiento-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:1.1rem}.requerimiento-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:#666;font-size:.9rem}.status[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:.8rem;font-weight:500;text-transform:uppercase}.status.completed[_ngcontent-%COMP%]{background:#e8f5e8;color:#2e7d32}.status.pending[_ngcontent-%COMP%]{background:#fff3e0;color:#f57c00}.status.in-progress[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.loading-requerimientos[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center}.loading-requerimientos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#666}.requerimientos-table[_ngcontent-%COMP%]{margin-top:16px}.full-width-table[_ngcontent-%COMP%]{width:100%}.full-width-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .full-width-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px}.importe[_ngcontent-%COMP%]{font-weight:500;color:#2e7d32}.no-importe[_ngcontent-%COMP%]{color:#999;font-style:italic}.no-requerimientos[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center;color:#666}.no-requerimientos[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;color:#ccc}.no-requerimientos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:500}.no-requerimientos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;text-align:center}.error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}.error-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;color:#666}.error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#999}@media (max-width: 768px){.detail-container[_ngcontent-%COMP%]{padding:16px}.detail-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:flex-start}.header-content[_ngcontent-%COMP%]{width:100%}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};export{ft as PropiedadDetailComponent};
