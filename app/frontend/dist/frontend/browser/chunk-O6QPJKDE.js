import{a as de}from"./chunk-42CT4GYI.js";import{a as oe,b as ae}from"./chunk-4I7E6TY2.js";import"./chunk-PVDG46DZ.js";import{a as ne}from"./chunk-72DCKGH5.js";import{a as le,b as ce}from"./chunk-EMY7YEHD.js";import{a as re,c as pe}from"./chunk-CN5NB4UJ.js";import{a as G,b as J,c as K,d as Q,e as U,f as W,g as X,h as Y,i as Z,j as ee,k as te}from"./chunk-JFHP4756.js";import{a as F,b as $,c as B,e as j,f as q}from"./chunk-5EQPP3UM.js";import"./chunk-BOKKIAFZ.js";import"./chunk-6Y7QP5KE.js";import"./chunk-M5CW5NFQ.js";import{b as ie}from"./chunk-6J5RYYQJ.js";import"./chunk-KCUSWNL7.js";import{a as V,b as R}from"./chunk-LTI5L47W.js";import"./chunk-G6RQVBEQ.js";import{w as z}from"./chunk-C2MAVCXR.js";import"./chunk-7U2T7U2W.js";import{X as H,Y as N,Z as A}from"./chunk-3B4OGLPL.js";import{c as k,g as y}from"./chunk-OL3NKZYM.js";import{Ac as O,Ga as r,Hc as D,Ic as L,Ka as h,Lb as M,Mb as a,Nb as E,Ob as S,Pb as b,Ra as T,Va as c,Vb as P,Xb as w,_b as I,ga as x,ha as g,kb as d,lb as n,mb as o,nb as v,rb as u,sb as f,ub as C,wb as _,yb as m}from"./chunk-FEQCTJNV.js";import"./chunk-TSRGIXR5.js";var _e=()=>[5,10,25,50];function xe(e,i){e&1&&(n(0,"div",6),v(1,"mat-spinner",7),n(2,"p"),a(3,"Cargando tipos de expediente..."),o()())}function ge(e,i){e&1&&(n(0,"th",26),a(1,"ID"),o())}function ue(e,i){if(e&1&&(n(0,"td",27),a(1),o()),e&2){let t=i.$implicit;r(),E(t.IdTipoExpediente)}}function fe(e,i){e&1&&(n(0,"th",28),a(1,"Nombre"),o())}function Ce(e,i){if(e&1&&(n(0,"td",29)(1,"div",30)(2,"strong"),a(3),o()()()),e&2){let t=i.$implicit;r(3),E(t.Nombre)}}function Ee(e,i){e&1&&(n(0,"th",28),a(1,"Descripci\xF3n"),o())}function he(e,i){if(e&1&&(n(0,"td",29)(1,"div",31),a(2),w(3,"slice"),o()()),e&2){let t=i.$implicit;r(2),b(" ",I(3,2,t.Descripcion,0,100),"",(t.Descripcion==null?null:t.Descripcion.length)>100?"...":""," ")}}function ve(e,i){e&1&&(n(0,"th",32),a(1,"Estado"),o())}function Te(e,i){if(e&1&&(n(0,"td",33)(1,"mat-chip")(2,"mat-icon"),a(3),o(),a(4),o()()),e&2){let t=i.$implicit;r(),M(t.Activo?"activo-chip":"inactivo-chip"),r(2),E(t.Activo?"check_circle":"cancel"),r(),S(" ",t.Activo?"Activo":"Inactivo"," ")}}function Me(e,i){e&1&&(n(0,"th",34),a(1,"Acciones"),o())}function Se(e,i){if(e&1){let t=C();n(0,"td",35)(1,"button",36),_("click",function(l){let s=x(t).$implicit;return m(2).editarTipoExpediente(s.IdTipoExpediente),g(l.stopPropagation())}),n(2,"mat-icon"),a(3,"edit"),o()(),n(4,"button",37),_("click",function(l){let s=x(t).$implicit;return m(2).eliminarTipoExpediente(s.IdTipoExpediente),g(l.stopPropagation())}),n(5,"mat-icon"),a(6,"delete"),o()()()}}function be(e,i){e&1&&v(0,"tr",38)}function Pe(e,i){if(e&1){let t=C();n(0,"tr",39),_("click",function(){let l=x(t).$implicit,s=m(2);return g(s.verDetalleTipoExpediente(l.IdTipoExpediente))}),o()}}function we(e,i){if(e&1){let t=C();n(0,"div",40)(1,"mat-icon"),a(2,"folder_open"),o(),n(3,"p"),a(4,"No se encontraron tipos de expediente"),o(),n(5,"button",2),_("click",function(){x(t);let l=m(2);return g(l.crearTipoExpediente())}),a(6," Crear primer tipo de expediente "),o()()}}function Ie(e,i){if(e&1&&(n(0,"div",8)(1,"table",9),u(2,10),c(3,ge,2,0,"th",11)(4,ue,2,1,"td",12),f(),u(5,13),c(6,fe,2,0,"th",14)(7,Ce,4,1,"td",15),f(),u(8,16),c(9,Ee,2,0,"th",14)(10,he,4,6,"td",15),f(),u(11,17),c(12,ve,2,0,"th",18)(13,Te,5,4,"td",19),f(),u(14,20),c(15,Me,2,0,"th",21)(16,Se,7,0,"td",22),f(),c(17,be,1,0,"tr",23)(18,Pe,1,0,"tr",24),o(),c(19,we,7,0,"div",25),o()),e&2){let t=m();r(),d("dataSource",t.dataSource),r(16),d("matHeaderRowDef",t.displayedColumns),r(),d("matRowDefColumns",t.displayedColumns),r(),d("ngIf",t.dataSource.length===0)}}function Oe(e,i){if(e&1){let t=C();n(0,"mat-paginator",41),_("page",function(l){x(t);let s=m();return g(s.onPageChange(l))}),o()}if(e&2){let t=m();d("length",t.totalItems)("pageSize",t.pageSize)("pageSizeOptions",P(4,_e))("pageIndex",t.currentPage)}}var me=class e{constructor(i,t){this.tipoExpedienteService=i;this.router=t}dataSource=[];displayedColumns=["IdTipoExpediente","Nombre","Descripcion","Activo","acciones"];loading=!1;error=null;totalItems=0;pageSize=10;currentPage=0;ngOnInit(){this.cargarTiposExpediente()}cargarTiposExpediente(){this.loading=!0,this.error=null,this.tipoExpedienteService.getAll(this.currentPage,this.pageSize).subscribe({next:i=>{this.dataSource=i.data,this.totalItems=i.total,this.loading=!1},error:i=>{console.error("Error al cargar tipos de expediente:",i),this.error="Error al cargar los tipos de expediente",this.loading=!1}})}onPageChange(i){this.currentPage=i.pageIndex,this.pageSize=i.pageSize,this.cargarTiposExpediente()}crearTipoExpediente(){this.router.navigate(["/tipos-expediente/nuevo"])}verDetalleTipoExpediente(i){this.router.navigate(["/tipos-expediente",i])}editarTipoExpediente(i){this.router.navigate(["/tipos-expediente",i,"editar"])}eliminarTipoExpediente(i){confirm("\xBFEst\xE1 seguro de que desea eliminar este tipo de expediente?")&&this.tipoExpedienteService.delete(i).subscribe({next:()=>{this.cargarTiposExpediente(),alert("Tipo de expediente eliminado exitosamente")},error:t=>{console.error("Error al eliminar tipo de expediente:",t),alert("Error al eliminar el tipo de expediente")}})}static \u0275fac=function(t){return new(t||e)(h(de),h(k))};static \u0275cmp=T({type:e,selectors:[["app-tipos-expediente-list"]],decls:16,vars:3,consts:[[1,"tipos-expediente-container"],[1,"header-actions"],["mat-raised-button","","color","primary",3,"click"],["class","loading-container",4,"ngIf"],["class","table-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","pageIndex","page",4,"ngIf"],[1,"loading-container"],["diameter","50"],[1,"table-container"],["mat-table","",1,"tipos-table",3,"dataSource"],["matColumnDef","IdTipoExpediente"],["mat-header-cell","","class","id-column",4,"matHeaderCellDef"],["mat-cell","","class","id-column",4,"matCellDef"],["matColumnDef","Nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Descripcion"],["matColumnDef","Activo"],["mat-header-cell","","class","estado-column",4,"matHeaderCellDef"],["mat-cell","","class","estado-column",4,"matCellDef"],["matColumnDef","acciones"],["mat-header-cell","","class","actions-column",4,"matHeaderCellDef"],["mat-cell","","class","actions-column",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","table-row",3,"click",4,"matRowDef","matRowDefColumns"],["class","no-data",4,"ngIf"],["mat-header-cell","",1,"id-column"],["mat-cell","",1,"id-column"],["mat-header-cell",""],["mat-cell",""],[1,"nombre-cell"],[1,"descripcion-cell"],["mat-header-cell","",1,"estado-column"],["mat-cell","",1,"estado-column"],["mat-header-cell","",1,"actions-column"],["mat-cell","",1,"actions-column"],["mat-icon-button","","color","primary","matTooltip","Editar tipo de expediente",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar tipo de expediente",3,"click"],["mat-header-row",""],["mat-row","",1,"table-row",3,"click"],[1,"no-data"],["showFirstLastButtons","",3,"page","length","pageSize","pageSizeOptions","pageIndex"]],template:function(t,p){t&1&&(n(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),a(5,"folder"),o(),a(6," Gesti\xF3n de Tipos de Expediente "),o(),n(7,"div",1)(8,"button",2),_("click",function(){return p.crearTipoExpediente()}),n(9,"mat-icon"),a(10,"add"),o(),a(11," Nuevo Tipo de Expediente "),o()()(),n(12,"mat-card-content"),c(13,xe,4,0,"div",3)(14,Ie,20,4,"div",4)(15,Oe,1,5,"mat-paginator",5),o()()()),t&2&&(r(13),d("ngIf",p.loading),r(),d("ngIf",!p.loading),r(),d("ngIf",!p.loading&&p.dataSource.length>0))},dependencies:[L,O,y,te,G,K,X,Q,J,Y,U,W,Z,ee,ae,oe,A,N,H,R,V,q,F,B,j,$,ce,le,ne,ie,pe,re,z,D],styles:[".tipos-expediente-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:1400px;margin:0 auto}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:3rem;gap:1rem}.table-container[_ngcontent-%COMP%]{margin-top:1rem;overflow-x:auto}.tipos-table[_ngcontent-%COMP%]{width:100%;background:#fff}.id-column[_ngcontent-%COMP%]{width:80px;text-align:center}.estado-column[_ngcontent-%COMP%], .actions-column[_ngcontent-%COMP%]{width:120px;text-align:center}.nombre-cell[_ngcontent-%COMP%]{padding:.5rem 0;color:#333}.descripcion-cell[_ngcontent-%COMP%]{padding:.5rem 0;color:#666;font-size:.9rem;line-height:1.4}.fecha-audit[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.activo-chip[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32}.inactivo-chip[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.activo-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .inactivo-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:4px}.table-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s}.table-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.no-data[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#666}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#ccc;margin-bottom:1rem}mat-card[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0000001a}mat-card-header[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;margin:-1rem -1rem 0;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#416759;font-size:1.25rem;font-weight:600;margin:0}mat-card-content[_ngcontent-%COMP%]{padding:1.5rem}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#416759;color:#fff}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#355a4c}.mat-mdc-chip[_ngcontent-%COMP%]{font-size:.75rem;min-height:24px;display:flex;align-items:center}"]})};export{me as TiposExpedienteListComponent};
