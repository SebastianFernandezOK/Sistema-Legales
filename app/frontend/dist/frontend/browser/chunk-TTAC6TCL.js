import{a as g}from"./chunk-SBRDWL4D.js";import"./chunk-TUJ55AJL.js";import{a as h}from"./chunk-MMBWSXO7.js";import"./chunk-5EQPP3UM.js";import"./chunk-MS4AQ6UA.js";import"./chunk-GKRR3LY4.js";import"./chunk-BOKKIAFZ.js";import"./chunk-6Y7QP5KE.js";import"./chunk-M5CW5NFQ.js";import"./chunk-KCUSWNL7.js";import"./chunk-LTI5L47W.js";import"./chunk-G6RQVBEQ.js";import{e as r,v as A,x as v}from"./chunk-C2MAVCXR.js";import"./chunk-7U2T7U2W.js";import"./chunk-3B4OGLPL.js";import{a as u,c as f}from"./chunk-OL3NKZYM.js";import{Ic as c,Ka as o,Ra as n,kb as p,lb as s,mb as m,wb as d}from"./chunk-FEQCTJNV.js";import"./chunk-TSRGIXR5.js";var T=class a{constructor(t,e,i,l){this.tipoAlertaService=t;this.router=e;this.route=i;this.fb=l;this.tipoAlertaId=Number(this.route.snapshot.paramMap.get("id")),this.tipoAlertaForm=this.fb.group({Descripcion:["",[r.required,r.maxLength(255)]],IdArea:[null],Asunto:["",[r.maxLength(255)]],Mensaje:["",[r.maxLength(1e3)]],Obs:["",[r.maxLength(500)]]})}loading=!1;error=null;tipoAlertaData=null;tipoAlertaId;tipoAlertaForm;ngOnInit(){this.cargarTipoAlerta()}cargarTipoAlerta(){if(!this.tipoAlertaId||isNaN(this.tipoAlertaId)){this.error="ID de tipo de alerta inv\xE1lido";return}this.loading=!0,this.error=null,this.tipoAlertaService.getById(this.tipoAlertaId).subscribe({next:t=>{this.tipoAlertaData=t,this.loading=!1},error:t=>{console.error("Error al cargar tipo de alerta:",t),this.error="Error al cargar los datos del tipo de alerta. Por favor, intente nuevamente.",this.loading=!1}})}onSubmit(t){this.loading=!0,this.error=null,this.tipoAlertaService.update(this.tipoAlertaId,t).subscribe({next:e=>{console.log("Tipo de alerta actualizado exitosamente:",e),this.router.navigate(["/tipos-alerta"])},error:e=>{console.error("Error al actualizar tipo de alerta:",e),this.error="Error al actualizar el tipo de alerta. Por favor, intente nuevamente.",this.loading=!1}})}onCancel(){this.router.navigate(["/tipos-alerta"])}static \u0275fac=function(e){return new(e||a)(o(h),o(f),o(u),o(A))};static \u0275cmp=n({type:a,selectors:[["app-tipo-alerta-edit"]],decls:1,vars:3,consts:[[3,"edit","cancel","modo","tipoAlerta","form"]],template:function(e,i){e&1&&(s(0,"app-tipo-alerta-form",0),d("edit",function(I){return i.onSubmit(I)})("cancel",function(){return i.onCancel()}),m()),e&2&&p("modo","editar")("tipoAlerta",i.tipoAlertaData)("form",i.tipoAlertaForm)},dependencies:[c,v,g],encapsulation:2})};export{T as TipoAlertaEditComponent};
