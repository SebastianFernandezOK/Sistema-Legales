import{a as me}from"./chunk-PVK2YKAR.js";import{c as re,d as ie,e as oe,f as ne,g as ae}from"./chunk-CUCTTRDO.js";import"./chunk-MS4AQ6UA.js";import{b as ee,c as te}from"./chunk-GKRR3LY4.js";import{d as W,h as Y,i as Z}from"./chunk-BOKKIAFZ.js";import{a as X}from"./chunk-6Y7QP5KE.js";import{b as J,c as H,d as $,f as K,i as Q}from"./chunk-M5CW5NFQ.js";import"./chunk-6J5RYYQJ.js";import"./chunk-KCUSWNL7.js";import"./chunk-G6RQVBEQ.js";import{c as P,e as p,g as O,h as A,m as V,p as R,q as G,t as L,v as j,x as B}from"./chunk-C2MAVCXR.js";import"./chunk-7U2T7U2W.js";import{Y as z,Z as U}from"./chunk-3B4OGLPL.js";import{c as k}from"./chunk-OL3NKZYM.js";import{Ac as w,Ga as a,Ib as D,Ic as N,Ka as C,Mb as r,Ob as y,Ra as I,Va as d,ga as s,ha as g,kb as m,lb as t,mb as e,nb as u,ub as q,wb as _}from"./chunk-FEQCTJNV.js";import"./chunk-TSRGIXR5.js";function ue(i,o){i&1&&(t(0,"mat-error"),r(1," El tipo de persona es requerido "),e())}function pe(i,o){i&1&&(t(0,"mat-error"),r(1," El nombre es requerido "),e())}function de(i,o){i&1&&(t(0,"mat-error"),r(1," El DNI/CUIT es requerido "),e())}function ce(i,o){i&1&&(t(0,"mat-error"),r(1," El representante legal es requerido "),e())}function fe(i,o){i&1&&(t(0,"mat-error"),r(1," El email es requerido "),e())}function se(i,o){i&1&&(t(0,"mat-error"),r(1," Ingrese un email v\xE1lido "),e())}function ge(i,o){i&1&&(t(0,"mat-error"),r(1," El tel\xE9fono es requerido "),e())}function _e(i,o){i&1&&(t(0,"mat-error"),r(1," El domicilio es requerido "),e())}function Ce(i,o){i&1&&(t(0,"mat-error"),r(1," La fecha de asignaci\xF3n es requerida "),e())}function Ee(i,o){i&1&&(t(0,"mat-error"),r(1," El estado es requerido "),e())}var le=class i{constructor(o,l,n){this.fb=o;this.titularService=l;this.router=n;this.form=this.fb.group({Nombre:["",p.required],TipoPersona:["",p.required],DniCuit:["",p.required],Domicilio:["",p.required],Telefono:["",p.required],Email:["",[p.required,p.email]],FechaAsignacion:["",p.required],Estado:["Activo",p.required],RepresentanteLegal:["",p.required],Observaciones:[""],Descripcion:[""]})}form;loading=!1;onSubmit(){if(console.log("onSubmit llamado"),console.log("Form valid:",this.form.valid),console.log("Form value:",this.form.value),console.log("Form errors:",this.form.errors),this.form.valid){console.log("Formulario v\xE1lido, iniciando creaci\xF3n..."),this.loading=!0;let o=this.form.value;this.titularService.create(o).subscribe({next:l=>{console.log("Titular creado exitosamente:",l),alert("Titular minero creado exitosamente"),this.loading=!1,this.router.navigate(["/titulares"])},error:l=>{console.error("Error al crear titular:",l),alert("Error al crear el titular minero"),this.loading=!1}})}else console.log("Formulario inv\xE1lido"),this.form.markAllAsTouched(),Object.keys(this.form.controls).forEach(o=>{let l=this.form.get(o);l&&l.errors&&console.log(`Error en ${o}:`,l.errors)})}onCancel(){this.router.navigate(["/titulares"])}testClick(){console.log("Test click funcionando!"),alert("El bot\xF3n responde!")}static \u0275fac=function(l){return new(l||i)(C(j),C(me),C(k))};static \u0275cmp=I({type:i,selectors:[["app-titular-create-form"]],decls:92,vars:14,consts:[["picker",""],[1,"form-container"],[1,"form-header"],[1,"titular-form",3,"ngSubmit","formGroup"],[1,"section-title"],[1,"form-row"],["appearance","outline"],["formControlName","TipoPersona","required",""],["value","F\xEDsica"],["value","Jur\xEDdica"],[4,"ngIf"],["matInput","","formControlName","Nombre","required",""],["matInput","","formControlName","DniCuit","required",""],["matInput","","formControlName","RepresentanteLegal","required",""],["matInput","","type","email","formControlName","Email","required",""],["matInput","","formControlName","Telefono","required",""],["matInput","","formControlName","Domicilio","required",""],["matInput","","formControlName","FechaAsignacion","required","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["formControlName","Estado","required",""],["value","Activo"],["value","Inactivo"],["value","Suspendido"],["matInput","","formControlName","Descripcion","rows","2"],["matInput","","formControlName","Observaciones","rows","2"],[1,"empty-field"],[1,"form-actions"],["mat-button","","type","button",3,"click"],["mat-button","","type","button",1,"cancel-btn",3,"click"],["mat-raised-button","","color","primary","type","button",3,"click"]],template:function(l,n){if(l&1){let c=q();t(0,"div",1)(1,"div",2)(2,"h2"),r(3,"Crear Nuevo Titular Minero"),e()(),t(4,"form",3),_("ngSubmit",function(){return s(c),g(n.onSubmit())}),t(5,"div",4),r(6,"Informaci\xF3n Personal"),e(),t(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),r(10,"Tipo Persona *"),e(),t(11,"mat-select",7)(12,"mat-option",8),r(13,"Persona F\xEDsica"),e(),t(14,"mat-option",9),r(15,"Persona Jur\xEDdica"),e()(),d(16,ue,2,0,"mat-error",10),e(),t(17,"mat-form-field",6)(18,"mat-label"),r(19,"Nombre/Raz\xF3n Social *"),e(),u(20,"input",11),d(21,pe,2,0,"mat-error",10),e(),t(22,"mat-form-field",6)(23,"mat-label"),r(24,"DNI/CUIT *"),e(),u(25,"input",12),d(26,de,2,0,"mat-error",10),e()(),t(27,"div",5)(28,"mat-form-field",6)(29,"mat-label"),r(30,"Representante Legal *"),e(),u(31,"input",13),d(32,ce,2,0,"mat-error",10),e(),t(33,"mat-form-field",6)(34,"mat-label"),r(35,"Email *"),e(),u(36,"input",14),d(37,fe,2,0,"mat-error",10)(38,se,2,0,"mat-error",10),e(),t(39,"mat-form-field",6)(40,"mat-label"),r(41,"Tel\xE9fono *"),e(),u(42,"input",15),d(43,ge,2,0,"mat-error",10),e()(),t(44,"div",4),r(45,"Informaci\xF3n de Contacto y Asignaci\xF3n"),e(),t(46,"div",5)(47,"mat-form-field",6)(48,"mat-label"),r(49,"Domicilio *"),e(),u(50,"input",16),d(51,_e,2,0,"mat-error",10),e(),t(52,"mat-form-field",6)(53,"mat-label"),r(54,"Fecha de Asignaci\xF3n *"),e(),u(55,"input",17),t(56,"mat-hint"),r(57,"DD/MM/AAAA"),e(),u(58,"mat-datepicker-toggle",18)(59,"mat-datepicker",null,0),d(61,Ce,2,0,"mat-error",10),e(),t(62,"mat-form-field",6)(63,"mat-label"),r(64,"Estado *"),e(),t(65,"mat-select",19)(66,"mat-option",20),r(67,"Activo"),e(),t(68,"mat-option",21),r(69,"Inactivo"),e(),t(70,"mat-option",22),r(71,"Suspendido"),e()(),d(72,Ee,2,0,"mat-error",10),e()(),t(73,"div",4),r(74,"Informaci\xF3n Adicional"),e(),t(75,"div",5)(76,"mat-form-field",6)(77,"mat-label"),r(78,"Descripci\xF3n"),e(),u(79,"textarea",23),e(),t(80,"mat-form-field",6)(81,"mat-label"),r(82,"Observaciones"),e(),u(83,"textarea",24),e(),u(84,"div",25),e(),t(85,"div",26)(86,"button",27),_("click",function(){return s(c),g(n.testClick())}),r(87," Test Click "),e(),t(88,"button",28),_("click",function(){return s(c),g(n.onCancel())}),r(89," Cancelar "),e(),t(90,"button",29),_("click",function(){return s(c),g(n.onSubmit())}),r(91),e()()()()}if(l&2){let c,f,E,x,v,b,T,M,S,h,F=D(60);a(4),m("formGroup",n.form),a(12),m("ngIf",(c=n.form.get("TipoPersona"))==null?null:c.hasError("required")),a(5),m("ngIf",(f=n.form.get("Nombre"))==null?null:f.hasError("required")),a(5),m("ngIf",(E=n.form.get("DniCuit"))==null?null:E.hasError("required")),a(6),m("ngIf",(x=n.form.get("RepresentanteLegal"))==null?null:x.hasError("required")),a(5),m("ngIf",(v=n.form.get("Email"))==null?null:v.hasError("required")),a(),m("ngIf",(b=n.form.get("Email"))==null?null:b.hasError("email")),a(5),m("ngIf",(T=n.form.get("Telefono"))==null?null:T.hasError("required")),a(8),m("ngIf",(M=n.form.get("Domicilio"))==null?null:M.hasError("required")),a(4),m("matDatepicker",F),a(3),m("for",F),a(3),m("ngIf",(S=n.form.get("FechaAsignacion"))==null?null:S.hasError("required")),a(11),m("ngIf",(h=n.form.get("Estado"))==null?null:h.hasError("required")),a(19),y(" ",n.loading?"Creando...":"Crear Titular"," ")}},dependencies:[N,w,B,V,P,O,A,L,R,G,X,Q,J,$,H,K,te,ee,U,z,Z,Y,W,ne,re,ie,oe,ae],styles:['@charset "UTF-8";.form-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}.form-header[_ngcontent-%COMP%]{background:#416759;color:#fff;padding:18px 24px 10px;border-radius:8px 8px 0 0;margin-bottom:0}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:1.3rem}.titular-form[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:0 0 8px 8px;box-shadow:0 2px 8px #41675914}.section-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#416759;margin:24px 0 16px;padding-bottom:8px;border-bottom:2px solid #e8f0ec}.section-title[_ngcontent-%COMP%]:first-of-type{margin-top:0}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;margin-bottom:16px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;margin-top:32px;padding-top:20px;border-top:1px solid #e0e0e0}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px;height:40px;cursor:pointer!important;pointer-events:auto!important}.cancel-btn[_ngcontent-%COMP%]{color:#666}mat-error[_ngcontent-%COMP%]{font-size:.85rem}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-container[_ngcontent-%COMP%]{max-width:100%;margin:0 16px}}@media (max-width: 1024px) and (min-width: 769px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}']})};export{le as TitularCreateFormComponent};
