import{a as it}from"./chunk-MMBWSXO7.js";import{a as Y,b as Z}from"./chunk-4I7E6TY2.js";import"./chunk-PVDG46DZ.js";import{a as X}from"./chunk-72DCKGH5.js";import{a as tt,b as et}from"./chunk-EMY7YEHD.js";import{a as F,b as $,c as B,d as N,e as j,f as q,g as G,h as J,i as K,j as Q,k as U}from"./chunk-JFHP4756.js";import{a as k,b as z,c as V,e as R,f as H}from"./chunk-5EQPP3UM.js";import"./chunk-BOKKIAFZ.js";import"./chunk-6Y7QP5KE.js";import"./chunk-M5CW5NFQ.js";import{b as W}from"./chunk-6J5RYYQJ.js";import"./chunk-KCUSWNL7.js";import{a as P,b as D}from"./chunk-LTI5L47W.js";import"./chunk-G6RQVBEQ.js";import{w as E}from"./chunk-C2MAVCXR.js";import"./chunk-7U2T7U2W.js";import{X as O,Y as L,Z as y}from"./chunk-3B4OGLPL.js";import{c as b,g as I}from"./chunk-OL3NKZYM.js";import{Ac as S,Ga as r,Ic as w,Ka as v,Mb as o,Nb as T,Ra as A,Va as c,Vb as M,ga as u,ha as g,kb as p,lb as n,mb as a,nb as h,rb as f,sb as C,ub as x,wb as _,yb as s}from"./chunk-FEQCTJNV.js";import"./chunk-TSRGIXR5.js";var ot=()=>[5,10,25,50];function rt(t,e){t&1&&(n(0,"div",6),h(1,"mat-spinner",7),n(2,"p"),o(3,"Cargando tipos de alerta..."),a()())}function lt(t,e){t&1&&(n(0,"th",24),o(1,"ID"),a())}function mt(t,e){if(t&1&&(n(0,"td",25),o(1),a()),t&2){let i=e.$implicit;r(),T(i.IdTipoAlerta)}}function ct(t,e){t&1&&(n(0,"th",26),o(1,"Descripci\xF3n"),a())}function pt(t,e){if(t&1&&(n(0,"td",27)(1,"div",28)(2,"strong"),o(3),a()()()),t&2){let i=e.$implicit;r(3),T(i.Descripcion)}}function st(t,e){t&1&&(n(0,"th",26),o(1,"\xC1rea"),a())}function dt(t,e){if(t&1&&(n(0,"td",27)(1,"span",29),o(2),a()()),t&2){let i=e.$implicit;r(2),T(i.IdArea||"-")}}function _t(t,e){t&1&&(n(0,"th",26),o(1,"Asunto"),a())}function ut(t,e){if(t&1&&(n(0,"td",27)(1,"span",30),o(2),a()()),t&2){let i=e.$implicit;r(2),T(i.Asunto||"-")}}function gt(t,e){t&1&&(n(0,"th",31),o(1,"Acciones"),a())}function ft(t,e){if(t&1){let i=x();n(0,"td",32)(1,"button",33),_("click",function(m){let d=u(i).$implicit;return s(2).editarTipoAlerta(d.IdTipoAlerta),g(m.stopPropagation())}),n(2,"mat-icon"),o(3,"edit"),a()(),n(4,"button",34),_("click",function(m){let d=u(i).$implicit;return s(2).eliminarTipoAlerta(d.IdTipoAlerta),g(m.stopPropagation())}),n(5,"mat-icon"),o(6,"delete"),a()()()}}function Ct(t,e){t&1&&h(0,"tr",35)}function xt(t,e){if(t&1){let i=x();n(0,"tr",36),_("click",function(){let m=u(i).$implicit,d=s(2);return g(d.verDetalleTipoAlerta(m.IdTipoAlerta))}),a()}}function Tt(t,e){if(t&1){let i=x();n(0,"div",37)(1,"mat-icon"),o(2,"warning_amber"),a(),n(3,"p"),o(4,"No se encontraron tipos de alerta"),a(),n(5,"button",2),_("click",function(){u(i);let m=s(2);return g(m.crearTipoAlerta())}),o(6," Crear primer tipo de alerta "),a()()}}function vt(t,e){if(t&1&&(n(0,"div",8)(1,"table",9),f(2,10),c(3,lt,2,0,"th",11)(4,mt,2,1,"td",12),C(),f(5,13),c(6,ct,2,0,"th",14)(7,pt,4,1,"td",15),C(),f(8,16),c(9,st,2,0,"th",14)(10,dt,3,1,"td",15),C(),f(11,17),c(12,_t,2,0,"th",14)(13,ut,3,1,"td",15),C(),f(14,18),c(15,gt,2,0,"th",19)(16,ft,7,0,"td",20),C(),c(17,Ct,1,0,"tr",21)(18,xt,1,0,"tr",22),a(),c(19,Tt,7,0,"div",23),a()),t&2){let i=s();r(),p("dataSource",i.dataSource),r(16),p("matHeaderRowDef",i.displayedColumns),r(),p("matRowDefColumns",i.displayedColumns),r(),p("ngIf",i.dataSource.length===0)}}function ht(t,e){if(t&1){let i=x();n(0,"mat-paginator",38),_("page",function(m){u(i);let d=s();return g(d.onPageChange(m))}),a()}if(t&2){let i=s();p("length",i.totalItems)("pageSize",i.pageSize)("pageSizeOptions",M(4,ot))("pageIndex",i.currentPage)}}var nt=class t{constructor(e,i){this.tipoAlertaService=e;this.router=i}dataSource=[];displayedColumns=["IdTipoAlerta","Descripcion","IdArea","Asunto","acciones"];loading=!1;error=null;totalItems=0;pageSize=10;currentPage=0;ngOnInit(){this.cargarTiposAlerta()}cargarTiposAlerta(){this.loading=!0,this.error=null,this.tipoAlertaService.getAll(this.currentPage,this.pageSize).subscribe({next:e=>{this.dataSource=e.data,this.totalItems=e.total,this.loading=!1},error:e=>{console.error("Error al cargar tipos de alerta:",e),this.error="Error al cargar los tipos de alerta",this.loading=!1}})}onPageChange(e){this.currentPage=e.pageIndex,this.pageSize=e.pageSize,this.cargarTiposAlerta()}crearTipoAlerta(){this.router.navigate(["/tipos-alerta/nuevo"])}verDetalleTipoAlerta(e){this.router.navigate(["/tipos-alerta",e])}editarTipoAlerta(e){this.router.navigate(["/tipos-alerta",e,"editar"])}eliminarTipoAlerta(e){confirm("\xBFEst\xE1 seguro de que desea eliminar este tipo de alerta?")&&this.tipoAlertaService.delete(e).subscribe({next:()=>{this.cargarTiposAlerta()},error:i=>{console.error("Error al eliminar tipo de alerta:",i),alert("Error al eliminar el tipo de alerta")}})}static \u0275fac=function(i){return new(i||t)(v(it),v(b))};static \u0275cmp=A({type:t,selectors:[["app-tipos-alerta-list"]],decls:16,vars:3,consts:[[1,"tipos-alerta-container"],[1,"header-actions"],["mat-raised-button","","color","primary",3,"click"],["class","loading-container",4,"ngIf"],["class","table-container",4,"ngIf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","pageIndex","page",4,"ngIf"],[1,"loading-container"],["diameter","50"],[1,"table-container"],["mat-table","",1,"tipos-table",3,"dataSource"],["matColumnDef","IdTipoAlerta"],["mat-header-cell","","class","id-column",4,"matHeaderCellDef"],["mat-cell","","class","id-column",4,"matCellDef"],["matColumnDef","Descripcion"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","IdArea"],["matColumnDef","Asunto"],["matColumnDef","acciones"],["mat-header-cell","","class","actions-column",4,"matHeaderCellDef"],["mat-cell","","class","actions-column",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","table-row",3,"click",4,"matRowDef","matRowDefColumns"],["class","no-data",4,"ngIf"],["mat-header-cell","",1,"id-column"],["mat-cell","",1,"id-column"],["mat-header-cell",""],["mat-cell",""],[1,"descripcion-cell"],[1,"area-info"],[1,"asunto-text"],["mat-header-cell","",1,"actions-column"],["mat-cell","",1,"actions-column"],["mat-icon-button","","color","primary","matTooltip","Editar tipo de alerta",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar tipo de alerta",3,"click"],["mat-header-row",""],["mat-row","",1,"table-row",3,"click"],[1,"no-data"],["showFirstLastButtons","",3,"page","length","pageSize","pageSizeOptions","pageIndex"]],template:function(i,l){i&1&&(n(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),o(5,"warning"),a(),o(6," Gesti\xF3n de Tipos de Alerta "),a(),n(7,"div",1)(8,"button",2),_("click",function(){return l.crearTipoAlerta()}),n(9,"mat-icon"),o(10,"add"),a(),o(11," Nuevo Tipo de Alerta "),a()()(),n(12,"mat-card-content"),c(13,rt,4,0,"div",3)(14,vt,20,4,"div",4)(15,ht,1,5,"mat-paginator",5),a()()()),i&2&&(r(13),p("ngIf",l.loading),r(),p("ngIf",!l.loading),r(),p("ngIf",!l.loading&&l.dataSource.length>0))},dependencies:[w,S,I,U,F,B,G,N,$,J,j,q,K,Q,Z,Y,y,L,O,D,P,H,k,V,R,z,et,tt,X,W,E],styles:[".tipos-alerta-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:1400px;margin:0 auto}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:3rem;gap:1rem}.table-container[_ngcontent-%COMP%]{margin-top:1rem;overflow-x:auto}.tipos-table[_ngcontent-%COMP%]{width:100%;background:#fff}.id-column[_ngcontent-%COMP%]{width:80px;text-align:center}.actions-column[_ngcontent-%COMP%]{width:120px;text-align:center}.descripcion-cell[_ngcontent-%COMP%]{padding:.5rem 0}.area-info[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.asunto-text[_ngcontent-%COMP%]{color:#444;font-style:italic;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.table-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s}.table-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.no-data[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#666}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#ccc;margin-bottom:1rem}mat-card[_ngcontent-%COMP%]{box-shadow:0 2px 8px #0000001a}mat-card-header[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;margin:-1rem -1rem 0;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#416759;font-size:1.25rem;font-weight:600;margin:0}mat-card-content[_ngcontent-%COMP%]{padding:1.5rem}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#416759;color:#fff}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#355a4c}"]})};export{nt as TiposAlertaListComponent};
