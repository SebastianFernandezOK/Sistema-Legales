import{a as g}from"./chunk-27EYNGVD.js";import{a as h}from"./chunk-YR7K5A5C.js";import"./chunk-5EQPP3UM.js";import"./chunk-GKRR3LY4.js";import"./chunk-6Y7QP5KE.js";import"./chunk-M5CW5NFQ.js";import"./chunk-KCUSWNL7.js";import"./chunk-LTI5L47W.js";import{e as n,v as N,x as v}from"./chunk-C2MAVCXR.js";import"./chunk-3B4OGLPL.js";import{a as l,c as u}from"./chunk-OL3NKZYM.js";import{Ic as d,Ka as e,Ra as a,kb as p,lb as f,mb as s,wb as m}from"./chunk-FEQCTJNV.js";import"./chunk-TSRGIXR5.js";var T=class r{constructor(o,i,t,c){this.tipoNotificacionService=o;this.router=i;this.route=t;this.fb=c;this.tipoNotificacionId=Number(this.route.snapshot.paramMap.get("id")),this.tipoNotificacionForm=this.fb.group({Descripcion:["",[n.required,n.maxLength(255)]],DescCorta:["",[n.maxLength(50)]]})}loading=!1;error=null;tipoNotificacionData=null;tipoNotificacionId;tipoNotificacionForm;ngOnInit(){this.cargarTipoNotificacion()}cargarTipoNotificacion(){if(!this.tipoNotificacionId||isNaN(this.tipoNotificacionId)){this.error="ID de tipo de notificaci\xF3n inv\xE1lido";return}this.loading=!0,this.error=null,this.tipoNotificacionService.getById(this.tipoNotificacionId).subscribe({next:o=>{this.tipoNotificacionData=o,this.loading=!1},error:o=>{console.error("Error al cargar tipo de notificaci\xF3n:",o),this.error="Error al cargar los datos del tipo de notificaci\xF3n. Por favor, intente nuevamente.",this.loading=!1}})}onSubmit(o){this.loading=!0,this.error=null,this.tipoNotificacionService.update(this.tipoNotificacionId,o).subscribe({next:i=>{console.log("Tipo de notificaci\xF3n actualizado exitosamente:",i),this.router.navigate(["/tipos-notificacion"])},error:i=>{console.error("Error al actualizar tipo de notificaci\xF3n:",i),this.error="Error al actualizar el tipo de notificaci\xF3n. Por favor, intente nuevamente.",this.loading=!1}})}onCancel(){this.router.navigate(["/tipos-notificacion"])}static \u0275fac=function(i){return new(i||r)(e(h),e(u),e(l),e(N))};static \u0275cmp=a({type:r,selectors:[["app-tipo-notificacion-edit"]],decls:1,vars:3,consts:[[3,"edit","cancel","modo","tipoNotificacion","form"]],template:function(i,t){i&1&&(f(0,"app-tipo-notificacion-form",0),m("edit",function(I){return t.onSubmit(I)})("cancel",function(){return t.onCancel()}),s()),i&2&&p("modo","editar")("tipoNotificacion",t.tipoNotificacionData)("form",t.tipoNotificacionForm)},dependencies:[d,v,g],encapsulation:2})};export{T as TipoNotificacionEditComponent};
