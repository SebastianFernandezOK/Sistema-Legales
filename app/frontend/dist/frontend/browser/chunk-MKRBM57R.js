import{a as f}from"./chunk-65SL3VKU.js";import{a as u}from"./chunk-TUJ55AJL.js";import"./chunk-EMY7YEHD.js";import"./chunk-5EQPP3UM.js";import"./chunk-GKRR3LY4.js";import"./chunk-6Y7QP5KE.js";import"./chunk-M5CW5NFQ.js";import"./chunk-KCUSWNL7.js";import"./chunk-LTI5L47W.js";import"./chunk-C2MAVCXR.js";import"./chunk-3B4OGLPL.js";import{a as d,c as p}from"./chunk-OL3NKZYM.js";import{Ic as c,Ka as t,Ra as o,kb as n,lb as s,mb as l,wb as m}from"./chunk-FEQCTJNV.js";import"./chunk-TSRGIXR5.js";var v=class i{constructor(r,e,a){this.areaService=r;this.router=e;this.route=a;this.areaId=Number(this.route.snapshot.paramMap.get("id"))}loading=!1;error=null;areaData=null;areaId;ngOnInit(){this.cargarArea()}cargarArea(){if(!this.areaId||isNaN(this.areaId)){this.error="ID de \xE1rea inv\xE1lido";return}this.loading=!0,this.error=null,this.areaService.getById(this.areaId).subscribe({next:r=>{this.areaData=r,this.loading=!1},error:r=>{console.error("Error al cargar \xE1rea:",r),this.error="Error al cargar los datos del \xE1rea. Por favor, intente nuevamente.",this.loading=!1}})}onSubmit(r){this.loading=!0,this.error=null,this.areaService.update(this.areaId,r).subscribe({next:e=>{console.log("\xC1rea actualizada exitosamente:",e),this.router.navigate(["/areas"])},error:e=>{console.error("Error al actualizar \xE1rea:",e),this.error="Error al actualizar el \xE1rea. Por favor, intente nuevamente.",this.loading=!1}})}onCancel(){this.router.navigate(["/areas"])}static \u0275fac=function(e){return new(e||i)(t(u),t(p),t(d))};static \u0275cmp=o({type:i,selectors:[["app-area-edit"]],decls:1,vars:4,consts:[[3,"submitForm","cancelForm","isEdit","initialData","loading","error"]],template:function(e,a){e&1&&(s(0,"app-area-form",0),m("submitForm",function(g){return a.onSubmit(g)})("cancelForm",function(){return a.onCancel()}),l()),e&2&&n("isEdit",!0)("initialData",a.areaData)("loading",a.loading)("error",a.error)},dependencies:[c,f],encapsulation:2})};export{v as AreaEditComponent};
