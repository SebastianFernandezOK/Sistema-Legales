import{a as Z}from"./chunk-TUJ55AJL.js";import{a as B,b as z,f as R}from"./chunk-5EQPP3UM.js";import{b as X,c as Y}from"./chunk-GKRR3LY4.js";import{d as K,h as U,i as W}from"./chunk-BOKKIAFZ.js";import{a as Q}from"./chunk-6Y7QP5KE.js";import{c as H,d as $,i as J}from"./chunk-M5CW5NFQ.js";import{a as G,b as L}from"./chunk-LTI5L47W.js";import{c as E,e as d,g as I,h as F,m as y,p as T,q as w,t as P,u as D,v as N,w as j,x as k}from"./chunk-C2MAVCXR.js";import{Y as V,Z as q}from"./chunk-3B4OGLPL.js";import{Ac as O,Ga as a,Ic as S,Ka as g,Mb as r,Ob as u,Ra as v,Va as p,Xa as f,kb as m,lb as e,mb as t,nb as c,ua as M,wb as h,zc as C}from"./chunk-FEQCTJNV.js";function te(o,i){o&1&&(e(0,"mat-error"),r(1," La descripci\xF3n es requerida "),t())}function re(o,i){o&1&&(e(0,"mat-error"),r(1," La descripci\xF3n no puede exceder 255 caracteres "),t())}function ie(o,i){if(o&1&&(e(0,"mat-option",13),r(1),t()),o&2){let l=i.$implicit;m("value",l.IdArea),a(),u(" ",l.Descripcion," ")}}function oe(o,i){o&1&&(e(0,"mat-error"),r(1," El asunto no puede exceder 50 caracteres "),t())}function ae(o,i){o&1&&(e(0,"mat-error"),r(1," El mensaje no puede exceder 5000 caracteres "),t())}function ne(o,i){o&1&&(e(0,"mat-error"),r(1," Las observaciones no pueden exceder 5000 caracteres "),t())}var ee=class o{constructor(i,l){this.fb=i;this.areaService=l;this.form||(this.form=this.fb.group({Descripcion:["",[d.required,d.maxLength(255)]],IdArea:[null],Asunto:["",[d.maxLength(50)]],Mensaje:["",[d.maxLength(5e3)]],Obs:["",[d.maxLength(5e3)]]}))}create=new f;edit=new f;cancel=new f;form;tipoAlerta=null;modo="crear";areas=[];ngOnInit(){this.cargarAreas(),this.modo==="editar"&&this.tipoAlerta&&this.form.patchValue({Descripcion:this.tipoAlerta.Descripcion,IdArea:this.tipoAlerta.IdArea,Asunto:this.tipoAlerta.Asunto,Mensaje:this.tipoAlerta.Mensaje,Obs:this.tipoAlerta.Obs})}ngOnChanges(i){i.tipoAlerta&&this.tipoAlerta&&this.modo==="editar"&&this.form.patchValue({Descripcion:this.tipoAlerta.Descripcion,IdArea:this.tipoAlerta.IdArea,Asunto:this.tipoAlerta.Asunto,Mensaje:this.tipoAlerta.Mensaje,Obs:this.tipoAlerta.Obs})}cargarAreas(){this.areaService.getAllSimple().subscribe({next:i=>{this.areas=i},error:i=>{console.error("Error al cargar las \xE1reas:",i),this.areas=[]}})}onSubmit(){if(this.form.valid){let i={Descripcion:this.form.value.Descripcion,IdArea:this.form.value.IdArea,Asunto:this.form.value.Asunto,Mensaje:this.form.value.Mensaje,Obs:this.form.value.Obs};this.modo==="editar"?this.edit.emit(i):this.create.emit(i)}}onCancel(){this.cancel.emit()}static \u0275fac=function(l){return new(l||o)(g(N),g(Z))};static \u0275cmp=v({type:o,selectors:[["app-tipo-alerta-form"]],inputs:{form:"form",tipoAlerta:"tipoAlerta",modo:"modo"},outputs:{create:"create",edit:"edit",cancel:"cancel"},features:[M],decls:51,vars:11,consts:[[1,"tipo-alerta-form-card"],[1,"form-header"],[1,"form-title"],["mat-raised-button","","color","primary","type","button",1,"back-button",3,"click"],["autocomplete","off","novalidate","",1,"tipo-alerta-form-grid",3,"ngSubmit","formGroup"],[1,"form-field","full-width"],[1,"field-label"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Descripcion","maxlength","255","required",""],[4,"ngIf"],[1,"form-field","half-width"],["appearance","outline",1,"half-width"],["formControlName","IdArea"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","Asunto","maxlength","50"],["matInput","","formControlName","Mensaje","maxlength","5000","rows","4"],["matInput","","formControlName","Obs","maxlength","5000","rows","3"],[1,"form-actions","full-width"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(l,n){if(l&1&&(e(0,"mat-card",0)(1,"div",1)(2,"mat-card-title",2),r(3),t(),e(4,"button",3),h("click",function(){return n.onCancel()}),e(5,"mat-icon"),r(6,"arrow_back"),t(),r(7," Volver "),t()(),e(8,"form",4),h("ngSubmit",function(){return n.onSubmit()}),e(9,"div",5)(10,"label",6),r(11,"Descripci\xF3n *"),t(),e(12,"mat-form-field",7),c(13,"input",8),p(14,te,2,0,"mat-error",9)(15,re,2,0,"mat-error",9),t()(),e(16,"div",10)(17,"label",6),r(18,"\xC1rea"),t(),e(19,"mat-form-field",11)(20,"mat-select",12)(21,"mat-option",13),r(22,"-- Seleccione un \xE1rea --"),t(),p(23,ie,2,2,"mat-option",14),t()()(),e(24,"div",10)(25,"label",6),r(26,"Asunto"),t(),e(27,"mat-form-field",11),c(28,"input",15),e(29,"mat-hint"),r(30,"Opcional - M\xE1ximo 50 caracteres"),t(),p(31,oe,2,0,"mat-error",9),t()(),e(32,"div",5)(33,"label",6),r(34,"Mensaje"),t(),e(35,"mat-form-field",7),c(36,"textarea",16),e(37,"mat-hint"),r(38,"Opcional - M\xE1ximo 5000 caracteres"),t(),p(39,ae,2,0,"mat-error",9),t()(),e(40,"div",5)(41,"label",6),r(42,"Observaciones"),t(),e(43,"mat-form-field",7),c(44,"textarea",17),e(45,"mat-hint"),r(46,"Opcional - M\xE1ximo 5000 caracteres"),t(),p(47,ne,2,0,"mat-error",9),t()(),e(48,"div",18)(49,"button",19),r(50),t()()()()),l&2){let s,_,b,x,A;a(3),u(" ",n.modo==="editar"?"Editar Tipo de Alerta":"Nuevo Tipo de Alerta"," "),a(5),m("formGroup",n.form),a(6),m("ngIf",(s=n.form.get("Descripcion"))==null?null:s.hasError("required")),a(),m("ngIf",(_=n.form.get("Descripcion"))==null?null:_.hasError("maxlength")),a(6),m("value",null),a(2),m("ngForOf",n.areas),a(8),m("ngIf",(b=n.form.get("Asunto"))==null?null:b.hasError("maxlength")),a(8),m("ngIf",(x=n.form.get("Mensaje"))==null?null:x.hasError("maxlength")),a(8),m("ngIf",(A=n.form.get("Obs"))==null?null:A.hasError("maxlength")),a(2),m("disabled",!n.form.valid),a(),u(" ",n.modo==="editar"?"Guardar cambios":"Guardar"," ")}},dependencies:[S,C,O,j,y,E,I,F,P,D,k,T,w,Q,J,$,H,Y,X,q,V,W,U,K,R,B,z,L,G],styles:[".tipo-alerta-form-card[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;background:#fff;border-radius:10px;box-shadow:0 2px 8px #00000014;padding:2rem 2.5rem 1.5rem}.form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.form-title[_ngcontent-%COMP%]{color:#416759;font-size:1.5rem;font-weight:700;margin:0}.back-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;background:#416759;color:#fff;padding:8px 16px;border-radius:6px;font-size:.95rem}.back-button[_ngcontent-%COMP%]:hover{background:#355a4c}.tipo-alerta-form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.half-width[_ngcontent-%COMP%]{grid-column:span 1}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.field-label[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:.95rem;margin-bottom:.25rem}.form-actions[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:center}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#416759;color:#fff;padding:12px 24px;font-size:1rem;border-radius:6px;min-width:200px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#355a4c}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#ccc;color:#666}mat-form-field[_ngcontent-%COMP%]{width:100%}  .mat-mdc-form-field-subscript-wrapper{margin-top:4px}  .mat-mdc-text-field-wrapper{background:#fff!important}  .mdc-text-field--filled .mdc-text-field__input{background:#fff!important}@media (max-width: 768px){.tipo-alerta-form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.half-width[_ngcontent-%COMP%]{grid-column:1}}"]})};export{ee as a};
